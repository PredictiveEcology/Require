<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>The `Require` approach, comparing `pak` and `renv` • Require</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="The `Require` approach, comparing `pak` and `renv`">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">Require</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item"><a class="nav-link" href="../articles/Require.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/PredictiveEcology/Require/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>The `Require` approach, comparing `pak` and `renv`</h1>
                        <h4 data-toc-skip class="author">Eliot
McIntire</h4>
            
      
      <small class="dont-index">Source: <a href="https://github.com/PredictiveEcology/Require/blob/master/vignettes/Require.Rmd" class="external-link"><code>vignettes/Require.Rmd</code></a></small>
      <div class="d-none name"><code>Require.Rmd</code></div>
    </div>

    
    
<p><code>Require</code> is a single package that combines features of
<code>base::install.packages</code>, <code><a href="https://rdrr.io/r/base/library.html" class="external-link">base::library</a></code>,
<code><a href="https://rdrr.io/r/base/library.html" class="external-link">base::require</a></code>, as well as <code><a href="https://pak.r-lib.org/reference/pkg_install.html" class="external-link">pak::pkg_install</a></code>,
<code>remotes::install_github</code>, and
<code>versions::install_version</code>, plus the snapshotting
capabilities of <code>renv</code>. It takes its name from the idea that
a user could simply have one line named from the <code>require</code>
function that would load a package, but in this case it will also
install the package if necessary. Set it and forget it. This means that
even if a user has a dependency that is removed from CRAN (“archived”),
the line will still work. Because it can be done in one line, it becomes
relatively easy to share, which facilitates, for example, making
reprexes for debugging. This package can be a key part of a reproducible
workflow.</p>
<div class="section level2">
<h2 id="principles-used-in-require">Principles used in <code>Require</code><a class="anchor" aria-label="anchor" href="#principles-used-in-require"></a>
</h2>
<p><code>Require</code> is designed with features that facilitate
running R code that is part of a continuous reproducible workflow, from
data-to-decisions. For this to work, all functions called by a user
should have a property whereby the initial time they are called does the
heavy work, and the subsequent times are sufficiently fast that the user
is not forced to skip over lines of code when re-running code. This is
called “rerun-tolerance”, i.e., the line can be rerun under identical
conditions and very quickly return the original result. The package,
<code>reproducible</code>, has a function <code>Cache</code> which can
convert many function calls to have this property. It does not work well
for functions whose objectives are side-effects, like installing and
loading packages. <code>Require</code> fills this gap.</p>
<div class="section level3">
<h3 id="key-features">Key features<a class="anchor" aria-label="anchor" href="#key-features"></a>
</h3>
<p>Features include:</p>
<ol style="list-style-type: decimal">
<li>Fast, parallel installs and downloads.</li>
<li>Installs CRAN and CRAN-alike <em>even if they have been
archived.</em>.</li>
<li>Installs GitHub packages.</li>
<li>User can specify which version to install using the standard
R-version approach (e.g., <code>==3.5.0</code> or
<code>&gt;=3.5.0</code>).</li>
<li>Local package <strong>caching</strong> and <strong>cloning</strong>
(see below) for fast (re-)installs.</li>
<li>Manages (some types of) conflicting package requests, i.e.,
different GitHub branches.</li>
<li>
<code>options</code>-level control of which packages should be
installed from source (see <code><a href="../reference/RequireOptions.html">RequireOptions()</a></code>) even if they
are being downloaded from a binary repository.</li>
<li>Finds specific versions of packages from an incomplete CRAN-like
repository (such as r-universe.dev), even when the <em>version</em> is
not available, but it <em>is</em> available on the main CRAN
mirrors.</li>
<li>Handles some errors that are not handled by
<code>install.packages</code> like “already in use”.</li>
</ol>
</div>
<div class="section level3">
<h3 id="how-it-works">How it works<a class="anchor" aria-label="anchor" href="#how-it-works"></a>
</h3>
<p><code>Require</code> uses <code>install.packages</code> internally to
install packages. However, it does not let <code>install.packages</code>
download the packages. Rather, it identifies dependencies recursively,
finds out where they are (CRAN, GitHub, Archives, Local), downloads them
(or gets from local cache or clones from an specified package library).
If <code>libcurl</code> is available (assessed via
<code>capabilities("libcurl")</code>), it will download them in parallel
from CRAN-like repositories. If <code>sys</code> is installed, it will
download GitHub packages in parallel also. If a user has not set
<code>options("Ncpus")</code> manually, then it will set that to a value
up to 8 for parallel installs of binary and source packages.</p>
</div>
<div class="section level3">
<h3 id="rerun-tolerance">Rerun-tolerance<a class="anchor" aria-label="anchor" href="#rerun-tolerance"></a>
</h3>
<p>To be functionally reproducible, code must be regularly run and
tested on many operating systems and computers. When this does not
happen, a user/developer does not know that certain code chunks no
longer work until they try to run it later. In other words, code gets
stale because underlying algorithms and data change. To be
rerun-tolerant, a function must:</p>
<ol style="list-style-type: decimal">
<li>return the same result or outcome every time it is run (first,
second or more times later);</li>
<li>be very fast after the first time; when it is not fast, users will
skip running it “because we don’t need to run it again and it is
slow”</li>
</ol>
<p><code>Require</code> does both of these. See below “why is it
fast”.</p>
</div>
<div class="section level3">
<h3 id="why-these-features-help-teams">Why these features help teams<a class="anchor" aria-label="anchor" href="#why-these-features-help-teams"></a>
</h3>
<p>It is common during code development to work in teams, and to be
updating package code. This is beneficial whether the team is very
tight, all working on exactly the same project, or looser where they
only share certain components across diverse projects.</p>
<div class="section level4">
<h4 id="all-working-on-same-project">All working on same project<a class="anchor" aria-label="anchor" href="#all-working-on-same-project"></a>
</h4>
<p>If the whole team is working on the same “whole” project, then it may
be useful to use a “package snapshot” approach, as is used with the
<code>renv</code> package. <code>Require</code> offers similar
functionality with the function <code><a href="../reference/pkgSnapshot.html">pkgSnapshot()</a></code>. Using this
approach provides a mechanism for each team member to update code, then
snapshot the project, commit the snapshot and push to the cloud for the
team to share.</p>
</div>
<div class="section level4">
<h4 id="diverse-projects">Diverse projects<a class="anchor" aria-label="anchor" href="#diverse-projects"></a>
</h4>
<p>However, if a team is more diversified and they are actually sharing
the new code, but not the whole project, then project snapshots will be
very inefficient and package management must be on a package-by-package
case, not the whole project. In other words, the code developer can work
on their package, and the various team members will have 2 options of
what they might want to do: keep at the bleeding edge or update only if
necessary for dependencies. More likely, they will want to have a
mixture of these strategies, i.e., bleeding edge with some code, but
only if necessary with others. Thus, <code>Require</code> offers
programmatic control for this. For example</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://Require.predictiveecology.org">Require</a></span><span class="op">)</span></span>
<span><span class="fu">Require</span><span class="fu">::</span><span class="fu"><a href="../reference/Require.html">Install</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"PredictiveEcology/reproducible@development (HEAD)"</span>, </span>
<span>    <span class="st">"PredictiveEcology/SpaDES.core@development (&gt;=2.0.5.9004)"</span><span class="op">)</span><span class="op">)</span> </span></code></pre></div>
<p>will keep the project at the bleeding edge of the development branch
of <code>reproducible</code>, but will only update if necessary (based
on the version needed, expressed by the inequality) for the development
branch of <code>SpaDES.core</code>. The user does not have to make
decisions at run time as to whether an update should be made, and for
which packages.</p>
</div>
</div>
</div>
<div class="section level2">
<h2 id="how-require-differs-from-other-approaches">How <code>Require</code> differs from other approaches<a class="anchor" aria-label="anchor" href="#how-require-differs-from-other-approaches"></a>
</h2>
<div class="section level4">
<h4 id="default-behaviours-different">Default behaviours different<a class="anchor" aria-label="anchor" href="#default-behaviours-different"></a>
</h4>
<p><strong>For packages that are not yet installed:</strong></p>
<table class="table">
<colgroup>
<col width="43%">
<col width="56%">
</colgroup>
<thead><tr class="header">
<th>Description</th>
<th>Outcome</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>Install("data.table")</code></td>
<td>
<code>data.table</code> installed</td>
</tr>
<tr class="even">
<td><code>install.packages("data.table")</code></td>
<td>
<code>data.table</code> installed</td>
</tr>
<tr class="odd">
<td><code>pak::pkg_install("data.table")</code></td>
<td>
<code>data.table</code> installed</td>
</tr>
<tr class="even">
<td><code>renv::install("data.table")</code></td>
<td>
<code>data.table</code> installed</td>
</tr>
</tbody>
</table>
<p><strong>For packages that are installed:</strong></p>
<table class="table">
<colgroup>
<col width="43%">
<col width="56%">
</colgroup>
<thead><tr class="header">
<th>Description</th>
<th>Outcome</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>Install("data.table")</code></td>
<td>No installation</td>
</tr>
<tr class="even">
<td><code>install.packages("data.table")</code></td>
<td>
<code>data.table</code> installed</td>
</tr>
<tr class="odd">
<td><code>pak::pkg_install("data.table")</code></td>
<td>No installation</td>
</tr>
<tr class="even">
<td><code>renv::install("data.table")</code></td>
<td>
<code>data.table</code> installed</td>
</tr>
</tbody>
</table>
<p>For packages that are already installed, but not latest on CRAN:</p>
<table class="table">
<colgroup>
<col width="32%">
<col width="67%">
</colgroup>
<thead><tr class="header">
<th>Description</th>
<th>Outcome</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>Install("data.table")</code></td>
<td>No installation</td>
</tr>
<tr class="even">
<td><code>install.packages("data.table")</code></td>
<td>
<code>data.table</code> installed</td>
</tr>
<tr class="odd">
<td><code>pak::pkg_install("data.table")</code></td>
<td>
<code>data.table</code> installed, asks user if wants to update if
available</td>
</tr>
<tr class="even">
<td><code>renv::install("data.table")</code></td>
<td>
<code>data.table</code> installed, asks user if wants to update if
available</td>
</tr>
</tbody>
</table>
</div>
<div class="section level4">
<h4 id="differences-and-similarities-between-pak-and-require">Differences and similarities between <code>pak</code> and
<code>Require</code><a class="anchor" aria-label="anchor" href="#differences-and-similarities-between-pak-and-require"></a>
</h4>
<p>This table is based on <code>Require v1.0.0</code> and
<code>pak v0.7.2</code>.</p>
<p>* Indicates that there is an example below.</p>
<table class="table">
<colgroup>
<col width="31%">
<col width="31%">
<col width="36%">
</colgroup>
<thead><tr class="header">
<th><em>Description</em></th>
<th align="center"><code>Require</code></th>
<th align="center"><code>pak</code></th>
</tr></thead>
<tbody>
<tr class="odd">
<td>Parallel downloads</td>
<td align="center">Yes</td>
<td align="center">Yes</td>
</tr>
<tr class="even">
<td>Parallel installs</td>
<td align="center">Yes</td>
<td align="center">Yes</td>
</tr>
<tr class="odd">
<td>Archived package* (e.g., <code>"knn"</code>)</td>
<td align="center">Automatic</td>
<td align="center">Must prefix with <code>url::</code> and exact url
path</td>
</tr>
<tr class="even">
<td>Archived package in dependency*</td>
<td align="center">Automatic</td>
<td align="center">May not work, even if manually adding
<code>url::</code> or <code>any::</code>
</td>
</tr>
<tr class="odd">
<td>Dependency conflicts*</td>
<td align="center">Yes</td>
<td align="center">No (see example below using <code>any::</code>)</td>
</tr>
<tr class="even">
<td>Multiple requests of same package*</td>
<td align="center">Resolves by version number specification, or most
recent version</td>
<td align="center">Error</td>
</tr>
<tr class="odd">
<td>Control individual package updates</td>
<td align="center">With <code>HEAD</code>
</td>
<td align="center">No</td>
</tr>
<tr class="even">
<td>Very clean messaging</td>
<td align="center">somewhat, with
<code>options(Require.installPackagesSys = 1)</code>
</td>
<td align="center">Yes</td>
</tr>
<tr class="odd">
<td>Package dependencies</td>
<td align="center">
<code>data.table</code>, <code>sys</code>
</td>
<td align="center">None (though yes if user wants control, e.g.,
<code>pkgcache</code>)</td>
</tr>
<tr class="even">
<td>Uses local cache</td>
<td align="center">Yes</td>
<td align="center">Yes</td>
</tr>
<tr class="odd">
<td>Package updates (default)</td>
<td align="center">No, unless needed by version number</td>
<td align="center">Yes, prompt user</td>
</tr>
<tr class="even">
<td>Package install by version</td>
<td align="center">Yes</td>
<td align="center">Yes, but does not deal well with multiple packages
with specific versions</td>
</tr>
<tr class="odd">
<td>Package conflict (CRAN &amp; GitHub)*</td>
<td align="center">Prefers CRAN, if version requirements met</td>
<td align="center">Error</td>
</tr>
<tr class="even">
<td>Version specification by user</td>
<td align="center">Yes e.g., <code>Require (&gt;=1.0.0)</code>
</td>
<td align="center">Not an option</td>
</tr>
<tr class="odd">
<td>Exact version specification by user</td>
<td align="center">Uses <code>DESCRIPTION</code> file approach e.g.,
<code>Require (==1.0.0)</code>
</td>
<td align="center">Uses <code>@</code> e.g.,
<code>Require@1.0.0</code>
</td>
</tr>
<tr class="even">
<td>Version conflicts</td>
<td align="center">Require attempts to resolve them, detailing
conflict</td>
<td align="center">Reports “dependency conflict” without details</td>
</tr>
<tr class="odd">
<td>Cache of package dependencies</td>
<td align="center">Yes (internally in <code><a href="../reference/pkgDep.html">Require::pkgDep</a></code>)</td>
<td align="center">No (cache not used in <code>pak::pkg_dep</code>)</td>
</tr>
<tr class="even">
<td>
<code>Additional_repositories</code> (in <code>DESCRIPTION</code>
file of a package)</td>
<td align="center">Uses</td>
<td align="center">Does not use (like
<code>install.packages</code>)</td>
</tr>
<tr class="odd">
<td>Cache of package binaries built locally from source</td>
<td align="center">Yes</td>
<td align="center">No (<code>pak</code> version <code>0.7.2</code>)</td>
</tr>
</tbody>
</table>
</div>
<div class="section level4">
<h4 id="archived-packages">Archived packages<a class="anchor" aria-label="anchor" href="#archived-packages"></a>
</h4>
<p>Between mid March 2024 and April 5, 2024, <code>fastdigest</code> was
taken off CRAN. If this is part of <em>your</em> direct dependencies,
you can remove it and find an alternative. However, if it is an indirect
dependency, you don’t have that choice: your workflow will break.
<code>Require</code> will just get the most recent archived copy and the
work can continue. While <code>fastdigest</code> is back on CRAN, others
are not, e.g., an older <code>knn</code> package:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">Require</span><span class="fu">::</span><span class="fu"><a href="../reference/Require.html">Install</a></span><span class="op">(</span><span class="st">"knn"</span><span class="op">)</span></span>
<span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/try.html" class="external-link">try</a></span><span class="op">(</span><span class="fu">pak</span><span class="fu">::</span><span class="fu"><a href="https://pak.r-lib.org/reference/pkg_install.html" class="external-link">pkg_install</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"knn"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="dependency-conflict">Dependency conflict<a class="anchor" aria-label="anchor" href="#dependency-conflict"></a>
</h4>
<p>When doing code development, it is common to use many
<code>GitHub</code> packages. Each of these (or their dependencies) may
point to one or more branches, either directly by user or in
<code>Remotes</code> field. In this next example, <code>pak</code>
errors, while <code>Require</code> makes decisions and installs. This is
a common occurrence for teams developing packages concurrently. The
<code>pak</code> approach suggests prepending <code>any::</code> to the
package(s) that is/are causing the conflict. This may suffice under some
situations. The <code>Require</code> approach is to assume the
equivalent of <code>any::</code> which means to prioritize base on (in
this order) 1. use package version requirements, 2. CRAN-like
repositories, 3. order.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://Require.predictiveecology.org">Require</a></span><span class="op">)</span></span>
<span><span class="co"># Fails because of a) packages taken off CRAN &amp; multiple GitHub branches requested within the nested dependencies</span></span>
<span><span class="va">pkgs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"reproducible"</span>, <span class="st">"PredictiveEcology/SpaDES@development"</span><span class="op">)</span></span>
<span><span class="va">dirTmp</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/tempdir2.html">tempdir2</a></span><span class="op">(</span>sub <span class="op">=</span> <span class="st">"first"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/libPaths.html" class="external-link">.libPaths</a></span><span class="op">(</span><span class="va">dirTmp</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"pak"</span><span class="op">)</span> <span class="co"># need this in the library; can't use personal library version</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/try.html" class="external-link">try</a></span><span class="op">(</span><span class="fu">pak</span><span class="fu">::</span><span class="fu"><a href="https://pak.r-lib.org/reference/pkg_install.html" class="external-link">pkg_install</a></span><span class="op">(</span><span class="va">pkgs</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co"># ✔ Loading metadata database ... done</span></span>
<span><span class="co"># Error : ! error in pak subprocess                                                      </span></span>
<span><span class="co"># Caused by error: </span></span>
<span><span class="co"># ! Could not solve package dependencies:</span></span>
<span><span class="co"># * reproducible: dependency conflict</span></span>
<span><span class="co"># * PredictiveEcology/SpaDES@development: Can't install dependency PredictiveEcology/reproducible@development (&gt;=  2.0.10)</span></span>
<span><span class="co"># * PredictiveEcology/reproducible@development: Conflicts with reproducible</span></span>
<span><span class="va">pkgsAny</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"any::reproducible"</span>, <span class="st">"PredictiveEcology/SpaDES@development"</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/try.html" class="external-link">try</a></span><span class="op">(</span><span class="fu">pak</span><span class="fu">::</span><span class="fu"><a href="https://pak.r-lib.org/reference/pkg_install.html" class="external-link">pkg_install</a></span><span class="op">(</span><span class="va">pkgsAny</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Fine</span></span>
<span><span class="va">dirTmp</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/tempdir2.html">tempdir2</a></span><span class="op">(</span>sub <span class="op">=</span> <span class="st">"second"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/libPaths.html" class="external-link">.libPaths</a></span><span class="op">(</span><span class="va">dirTmp</span><span class="op">)</span></span>
<span><span class="fu">Require</span><span class="fu">::</span><span class="fu"><a href="../reference/Require.html">Install</a></span><span class="op">(</span><span class="va">pkgs</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Fails</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/try.html" class="external-link">try</a></span><span class="op">(</span><span class="va">pk</span> <span class="op">&lt;-</span> <span class="fu">pak</span><span class="fu">::</span><span class="fu"><a href="https://pak.r-lib.org/reference/pak.html" class="external-link">pak</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"PredictiveEcology/LandR@development"</span>, <span class="st">"PredictiveEcology/LandR@main"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co"># Error : ! error in pak subprocess                                                        </span></span>
<span><span class="co"># Caused by error: </span></span>
<span><span class="co"># ! Could not solve package dependencies:</span></span>
<span><span class="co"># * PredictiveEcology/LandR@development: Conflicts with PredictiveEcology/LandR@main</span></span>
<span><span class="co"># * PredictiveEcology/LandR@main: Conflicts with PredictiveEcology/LandR@development</span></span>
<span></span>
<span><span class="co"># Fine -- takes in order, so main first in this example</span></span>
<span><span class="va">rq</span> <span class="op">&lt;-</span> <span class="fu">Require</span><span class="fu">::</span><span class="fu"><a href="../reference/Require.html">Install</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"PredictiveEcology/LandR@main"</span>, <span class="st">"PredictiveEcology/LandR@development"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Fine -- takes by version requirement, so takes development, </span></span>
<span><span class="co">#    which is the only one that fulfills requirement on Jul 25, 2024</span></span>
<span><span class="va">rq</span> <span class="op">&lt;-</span> <span class="fu">Require</span><span class="fu">::</span><span class="fu"><a href="../reference/Require.html">Install</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"PredictiveEcology/LandR@main"</span>, <span class="st">"PredictiveEcology/LandR@development (&gt;=1.1.5)"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>The following does not work with <code>pak</code> because BioSIM, a
dependency on GitHub is not found. This may be because the package name
is not the repository name, but it is not clear from the error message
why:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/try.html" class="external-link">try</a></span><span class="op">(</span><span class="va">gg</span> <span class="op">&lt;-</span> <span class="fu">pak</span><span class="fu">::</span><span class="fu"><a href="https://pak.r-lib.org/reference/pkg_deps.html" class="external-link">pkg_deps</a></span><span class="op">(</span><span class="st">"PredictiveEcology/LandR@development"</span>, dependencies <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">ff</span> <span class="op">&lt;-</span> <span class="fu">Require</span><span class="fu">::</span><span class="fu"><a href="../reference/pkgDep.html">pkgDep</a></span><span class="op">(</span><span class="st">"PredictiveEcology/LandR@development"</span>, dependencies <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="version-requirements-determine-package-installation">Version requirements determine package installation<a class="anchor" aria-label="anchor" href="#version-requirements-determine-package-installation"></a>
</h4>
<ol style="list-style-type: decimal">
<li><p><strong>Version number requirements</strong> drive package
updates. If a user does not need an update because version numbers are
sufficient, no update will occur.</p></li>
<li><p>If no version number specification, then installs only occur if
package is not present.</p></li>
<li><p>Multiple simultaneous requests to install a package from what
appear to be incompatible sources, will not create a conflict unless
version requirements cause the conflict. If version number requirements
are not specified, CRAN versions will take precedence, and sequence of
packages listed at installation will take preference otherwise.</p></li>
</ol>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># The following has no version specifications, </span></span>
<span><span class="co">#   so CRAN version will be installed or none installed if already installed</span></span>
<span><span class="fu">Require</span><span class="fu">::</span><span class="fu"><a href="../reference/Require.html">Install</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"PredictiveEcology/reproducible@development"</span>, <span class="st">"reproducible"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># The following specifies "HEAD" after the Github package name. This means the </span></span>
<span><span class="co">#   tip of the development branch of reproducible will be installed if not already installed</span></span>
<span><span class="fu">Require</span><span class="fu">::</span><span class="fu"><a href="../reference/Require.html">Install</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"PredictiveEcology/reproducible@development (HEAD)"</span>, <span class="st">"reproducible"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># The following specifies "HEAD" after the package name. This means the </span></span>
<span><span class="co">#   tip of the development branch of reproducible</span></span>
<span><span class="fu">Require</span><span class="fu">::</span><span class="fu"><a href="../reference/Require.html">Install</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"PredictiveEcology/reproducible@development"</span>, <span class="st">"reproducible (HEAD)"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Not a problem because version number specifies</span></span>
<span><span class="fu">Require</span><span class="fu">::</span><span class="fu"><a href="../reference/Require.html">Install</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"PredictiveEcology/reproducible@modsForLargeArchives (&gt;=2.0.10.9010)"</span>,</span>
<span>                   <span class="st">"PredictiveEcology/reproducible (&gt;= 2.0.10)"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Even if branch does not exist, if later version requirement specifies a different branch, no error</span></span>
<span><span class="fu">Require</span><span class="fu">::</span><span class="fu"><a href="../reference/Require.html">Install</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"PredictiveEcology/reproducible@modsForLargeArchives (&gt;=2.0.10.9010)"</span>,</span>
<span>                   <span class="st">"PredictiveEcology/reproducible@validityTest (&gt;= 2.0.9)"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><code>Require</code> can handle package version specifications at the
function call (<code>pak</code> can handle them if they are in a
<code>DESCRIPTION</code> file, if they are <code>&gt;=</code>), whereas
<code>pak</code> cannot (currently).</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## FAILS - can't specify version requirements</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/try.html" class="external-link">try</a></span><span class="op">(</span><span class="fu">pak</span><span class="fu">::</span><span class="fu"><a href="https://pak.r-lib.org/reference/pkg_install.html" class="external-link">pkg_install</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"PredictiveEcology/reproducible@modsForLargeArchives (&gt;=2.0.10.9010)"</span>,</span>
<span>      <span class="st">"PredictiveEcology/reproducible (&gt;= 2.0.10)"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="why-is-it-fast">Why is it fast?<a class="anchor" aria-label="anchor" href="#why-is-it-fast"></a>
</h3>
<p>Some of the features make it fast the first time being used on a
system, some make it fast the second &amp; subsequent time on a system
(which can be first time in a new project). These features are caching,
cloning, and parallel downloads.</p>
<div class="section level4">
<h4 id="caching">Caching<a class="anchor" aria-label="anchor" href="#caching"></a>
</h4>
<p><code>Require</code> creates a local cache of several steps: the
packages files (source or binary including locally built binaries); the
package dependency tree (only in RAM currently, so only affects the same
session); available package matrices for CRAN-like repositories.
Together, these speed up the installation of packages on a computer that
can access the local cache, e.g., for each new project.
<code>Require</code> keeps the binary once the <code>source</code>
package is built, and it can therefore install the binary each
subsequent installation. This results in dramatically faster
installations of source packages after they have been built locally.</p>
</div>
<div class="section level4">
<h4 id="cloning-still-experimental-do-not-default">Cloning (still experimental; do not default)<a class="anchor" aria-label="anchor" href="#cloning-still-experimental-do-not-default"></a>
</h4>
<p><code>Require</code> has an option,
<code>options("Require.cloneFrom")</code>, which, when set, will create
a hard link between the current project’s package library and the
library pointed to by the option. Setting to
e.g. <code>options("Require.cloneFrom" = Sys.getenv("R_LIBS_USER"))</code>
will allow packages in the user’s personal library to be the source of
the “copying” to the project library. This is dramatically faster than
installing, even when the installation is a local binary from the local
cache.</p>
</div>
</div>
<div class="section level3">
<h3 id="binary-on-linux">Binary on Linux<a class="anchor" aria-label="anchor" href="#binary-on-linux"></a>
</h3>
<p>On Linux, users have the ability to install binary packages that are
pre-built e.g., from the Posit Package Manager. Sometimes the binary is
incompatible with a user’s system, even though it is the correct
operating system. This occurs generally for several packages, and thus
they must be installed from source. <code>Require</code> has a function
<code><a href="../reference/sourcePkgs.html">sourcePkgs()</a></code>, which can be informed by
<code>options("Require.spatialPkgs")</code> and
<code>options("Require.otherPkgs")</code> that can be set by a user on a
package-by-package basis. By default, some are automatically installed
from <code>"source"</code> because in our experience, they tend to fail
if installed from the binary.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># In this example, it is `terra` that generally needs to be installed from source on Linux</span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="fu">Require</span><span class="fu">:::</span><span class="fu">isUbuntuOrDebian</span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu">Require</span><span class="fu">::</span><span class="fu"><a href="../reference/setLinuxBinaryRepo.html">setLinuxBinaryRepo</a></span><span class="op">(</span><span class="op">)</span></span>
<span>  <span class="va">pkgs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"terra"</span>, <span class="st">"PSPclean"</span><span class="op">)</span></span>
<span>  <span class="va">pkgFullName</span> <span class="op">&lt;-</span> <span class="st">"ianmseddy/PSPclean@development"</span></span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/try.html" class="external-link">try</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/remove.packages.html" class="external-link">remove.packages</a></span><span class="op">(</span><span class="va">pkgs</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="fu">pak</span><span class="fu">::</span><span class="fu"><a href="https://pak.r-lib.org/reference/cache.html" class="external-link">cache_delete</a></span><span class="op">(</span><span class="op">)</span> <span class="co"># make sure a locally built one is not present in the cache</span></span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/try.html" class="external-link">try</a></span><span class="op">(</span><span class="fu">pak</span><span class="fu">::</span><span class="fu"><a href="https://pak.r-lib.org/reference/pkg_install.html" class="external-link">pkg_install</a></span><span class="op">(</span><span class="va">pkgFullName</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="co"># ✔ Loading metadata database ... done                                       </span></span>
<span>  <span class="co">#                                                                            </span></span>
<span>  <span class="co"># → Will install 2 packages.</span></span>
<span>  <span class="co"># → Will download 2 packages with unknown size.</span></span>
<span>  <span class="co"># + PSPclean   0.1.4.9005 [bld][cmp][dl] (GitHub: fed9253)</span></span>
<span>  <span class="co"># + terra      1.7-71     [dl] + ✔ libgdal-dev, ✔ gdal-bin, ✔ libgeos-dev, ✔ libproj-dev, ✔ libsqlite3-dev</span></span>
<span>  <span class="co"># ✔ All system requirements are already installed.</span></span>
<span>  <span class="co">#   </span></span>
<span>  <span class="co"># ℹ Getting 2 pkgs with unknown sizes</span></span>
<span>  <span class="co"># ✔ Got PSPclean 0.1.4.9005 (source) (43.29 kB)                         </span></span>
<span>  <span class="co"># ✔ Got terra 1.7-71 (x86_64-pc-linux-gnu-ubuntu-22.04) (4.24 MB)      </span></span>
<span>  <span class="co"># ✔ Downloaded 2 packages (4.28 MB) in 2.9s                </span></span>
<span>  <span class="co"># ✔ Installed terra 1.7-71  (61ms)                                   </span></span>
<span>  <span class="co"># ℹ Packaging PSPclean 0.1.4.9005                                    </span></span>
<span>  <span class="co"># ✔ Packaged PSPclean 0.1.4.9005 (420ms)                              </span></span>
<span>  <span class="co"># ℹ Building PSPclean 0.1.4.9005                                      </span></span>
<span>  <span class="co"># ✖ Failed to build PSPclean 0.1.4.9005 (3.7s)                        </span></span>
<span>  <span class="co"># Error:                                                              </span></span>
<span>  <span class="co"># ! error in pak subprocess</span></span>
<span>  <span class="co"># Caused by error in `stop_task_build(state, worker)`:</span></span>
<span>  <span class="co"># ! Failed to build source package PSPclean.</span></span>
<span>  <span class="co"># Type .Last.error to see the more details.</span></span>
<span>  </span>
<span>  </span>
<span>  <span class="co"># Works fine because the `sourcePkgs()`            </span></span>
<span>  </span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/try.html" class="external-link">try</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/remove.packages.html" class="external-link">remove.packages</a></span><span class="op">(</span><span class="va">pkgs</span><span class="op">)</span><span class="op">)</span> <span class="co"># uninstall to make sure it is a clean install for this test</span></span>
<span>  <span class="fu">Require</span><span class="fu">::</span><span class="fu"><a href="../reference/clearRequire.html">cacheClearPackages</a></span><span class="op">(</span><span class="va">pkgs</span>, ask <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="co"># remove any existing local packages</span></span>
<span>  <span class="fu">Require</span><span class="fu">::</span><span class="fu"><a href="../reference/Require.html">Install</a></span><span class="op">(</span><span class="va">pkgFullName</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="package-dependencies">Package dependencies<a class="anchor" aria-label="anchor" href="#package-dependencies"></a>
</h3>
<div class="section level4">
<h4 id="default-arguments-pkgdep----which-xx-includes-linkingto">default arguments – <code>pkgDep(..., which = XX)</code> includes
<code>LinkingTo</code><a class="anchor" aria-label="anchor" href="#default-arguments-pkgdep----which-xx-includes-linkingto"></a>
</h4>
<p><code>pkgDep</code>, by default, includes <code>LinkingTo</code> as
these are required by <code>Rcpp</code> if that is required, and so are
strictly necessary. <code><a href="https://pak.r-lib.org/reference/pkg_deps.html" class="external-link">pak::pkg_deps</a></code> does not include
<code>LinkingTo</code> by default.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">depPak</span> <span class="op">&lt;-</span> <span class="fu">pak</span><span class="fu">::</span><span class="fu"><a href="https://pak.r-lib.org/reference/pkg_deps.html" class="external-link">pkg_deps</a></span><span class="op">(</span><span class="st">"PredictiveEcology/LandR@LandWeb"</span><span class="op">)</span> </span>
<span><span class="va">depRequire</span> <span class="op">&lt;-</span> <span class="fu">Require</span><span class="fu">::</span><span class="fu"><a href="../reference/pkgDep.html">pkgDep</a></span><span class="op">(</span><span class="st">"PredictiveEcology/LandR@LandWeb"</span><span class="op">)</span> <span class="co"># Slightly different default in Require</span></span>
<span></span>
<span><span class="co"># Same</span></span>
<span><span class="va">pakDepsClean</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sets.html" class="external-link">setdiff</a></span><span class="op">(</span><span class="fu">Require</span><span class="fu">::</span><span class="fu"><a href="../reference/extractPkgName.html">extractPkgName</a></span><span class="op">(</span><span class="va">depPak</span><span class="op">$</span><span class="va">ref</span><span class="op">)</span>, <span class="fu">Require</span><span class="fu">:::</span><span class="va">.basePkgs</span><span class="op">)</span></span>
<span><span class="va">requireDepsClean</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sets.html" class="external-link">setdiff</a></span><span class="op">(</span><span class="fu">Require</span><span class="fu">::</span><span class="fu"><a href="../reference/extractPkgName.html">extractPkgName</a></span><span class="op">(</span><span class="va">depRequire</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span>, <span class="fu">Require</span><span class="fu">:::</span><span class="va">.basePkgs</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/sets.html" class="external-link">setdiff</a></span><span class="op">(</span><span class="va">pakDepsClean</span>, <span class="va">requireDepsClean</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/sets.html" class="external-link">setdiff</a></span><span class="op">(</span><span class="va">requireDepsClean</span>, <span class="va">pakDepsClean</span><span class="op">)</span> <span class="co"># does not report "RcppArmadillo", "RcppEigen", "cpp11" which are LinkingTo</span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="cran-preference">CRAN-preference<a class="anchor" aria-label="anchor" href="#cran-preference"></a>
</h3>
<p>If there is no version specification, <code>Require</code> prefers
CRAN packages when there are multiple pointers to a package. Thus, even
though a package may have a <code>Remotes</code> field pointing to e.g.,
<code>PredictiveEcology/SpaDES.tools@development</code>, if there is a
recursive dependency within that package that specifies
<code>SpaDES.tools</code> without a <code>Remotes</code> field, then
<code>pkgDep</code> will return the <code>CRAN</code> version. If a user
wants to override this behaviour, then the user can specify a version
requirement that can only be satisfied with the <code>Remotes</code>
option. Then <code>pkgDep</code> will take that.</p>
<p><code><a href="https://pak.r-lib.org/reference/pkg_deps.html" class="external-link">pak::pkg_deps</a></code> prefers the top-level specification, i.e.,
the non-recursive <code>Remotes</code> field will be returned, even if
the same package is also specified within a recursive dependency without
a <code>Remotes</code> field, i.e, if a recursive dependency points the
CRAN package, it will not return that version of the dependency.</p>
<div class="section level4">
<h4 id="pak-fails-for-packages-on-github-that-are-not-same-name-as-git-repo-in-remotes">
<code>pak</code> fails for packages on GitHub that are not same name
as Git Repo in Remotes<a class="anchor" aria-label="anchor" href="#pak-fails-for-packages-on-github-that-are-not-same-name-as-git-repo-in-remotes"></a>
</h4>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">gg</span> <span class="op">&lt;-</span> <span class="fu">pak</span><span class="fu">::</span><span class="fu"><a href="https://pak.r-lib.org/reference/pkg_deps.html" class="external-link">pkg_deps</a></span><span class="op">(</span><span class="st">"PredictiveEcology/LandR@development"</span>, dependencies <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co"># Error:                                                                                  </span></span>
<span><span class="co"># ! error in pak subprocess</span></span>
<span><span class="co"># Caused by error: </span></span>
<span><span class="co"># ! Could not solve package dependencies:</span></span>
<span><span class="co"># * PredictiveEcology/LandR@development: Can't install dependency BioSIM</span></span>
<span><span class="co"># * BioSIM: Can't find package called BioSIM.</span></span>
<span><span class="co"># Type .Last.error to see the more details.</span></span>
<span><span class="va">ff</span> <span class="op">&lt;-</span> <span class="fu">Require</span><span class="fu">::</span><span class="fu"><a href="../reference/pkgDep.html">pkgDep</a></span><span class="op">(</span><span class="st">"PredictiveEcology/LandR@development"</span>, dependencies <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co"># $`PredictiveEcology/LandR@development`</span></span>
<span><span class="co">#  [1] "BH"                                                      "BIEN"                                            </span></span>
<span><span class="co">#  [3] "BioSIM"                                                  "DBI (&gt;= 0.8)"                                 </span></span>
<span><span class="co">#  [5] "Deriv"                                                   "ENMeval"                                          </span></span>
<span><span class="co">#  ...</span></span></code></pre></div>
</div>
</div>
</div>
<div class="section level2">
<h2 id="renv-and-require">
<code>renv</code> and <code>Require</code><a class="anchor" aria-label="anchor" href="#renv-and-require"></a>
</h2>
<div class="section level3">
<h3 id="managing-projects-during-development">Managing projects during development<a class="anchor" aria-label="anchor" href="#managing-projects-during-development"></a>
</h3>
<p><code>renv</code> has a concept of a lockfile. This lockfile records
a specific version of a package. If the current installed version of a
package is different from the lockfile (e.g., I am the developer and I
increment the local version), <code>renv</code> will attempt to revert
the local changes (with prompt to confirm) <em>unless</em> the local
package is installed from a cloud repository (e.g., GitHub), and a
<code>snapshot</code> is taken. This sequence is largely incompatible
with <code><a href="https://pkgload.r-lib.org/reference/load_all.html" class="external-link">pkgload::load_all()</a></code> or
<code>devtools::install()</code>, as these do not record “where” to get
the current version from. Thus, the <code>renv</code> sequence can be
quite time consuming (1-2 minutes, instead of 1 second with
<code><a href="https://pkgload.r-lib.org/reference/load_all.html" class="external-link">pkgload::load_all()</a></code>).</p>
<p><code>Require</code> does not attempt to update anything unless
required by a package. Thus, this issue never comes up. If and when it
is important to “snapshot”, then <code>pkgSnapshot</code> or
<code>pkgSnapshot2</code> can be used.</p>
</div>
<div class="section level3">
<h3 id="using-description-file-to-maintain-minimum-versions">Using <code>DESCRIPTION</code> file to maintain minimum
versions<a class="anchor" aria-label="anchor" href="#using-description-file-to-maintain-minimum-versions"></a>
</h3>
<p>During a project, a user can build and maintain and “project-level”
DESCRIPTION file, which can be useful for a <code>renv</code> managed
project. This approach does not, however, automatically detect minimum
version changes or GitHub branch changes (<code>renv::status</code> does
not recognize these). In order for a user to inherit the correct
requirements, a manual <a href="https://github.com/rstudio/renv/issues/233#issuecomment-1530134112" class="external-link"><code>renv::install</code>
must be used</a>. For even moderate sized projects, this can take over
20 seconds.</p>
<p><code>Require</code> does not need a lockfile; package violations are
found on the fly.</p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Eliot J B McIntire.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
