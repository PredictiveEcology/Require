<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Require: Installing and Loading R Packages for Reproducible Workflows — Require-package • Require</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Require: Installing and Loading R Packages for Reproducible Workflows — Require-package"><meta name="description" content="A single key function, 'Require' that makes rerun-tolerant versions of 'install.packages' and `require` for CRAN packages, packages no longer on CRAN (i.e., archived), specific versions of packages, and GitHub packages. This approach is developed to create reproducible workflows that are flexible and fast enough to use while in development stages, while able to build snapshots once a stable package collection is found. As with other functions in a reproducible workflow, this package emphasizes functions that return the same result whether it is the first or subsequent times running the function, with subsequent times being sufficiently fast that they can be run every time without undue waiting burden on the user or developer.
This is an &quot;all in one&quot; function that will run install.packages for CRAN
and GitHub https://github.com/ packages and will install specific versions
of each package if versions are specified either via an (in)equality (e.g.,
&quot;glue (&amp;gt;=1.6.2)&quot; or &quot;glue (==1.6.2)&quot; for an exact version) or with a
packageVersionFile. If require = TRUE, the default, the function will
then run require on all named packages that satisfy their version
requirements. If packages are already installed (packages supplied), and
their optional version numbers are satisfied, then the &quot;install&quot; component
will be skipped."><meta property="og:description" content="A single key function, 'Require' that makes rerun-tolerant versions of 'install.packages' and `require` for CRAN packages, packages no longer on CRAN (i.e., archived), specific versions of packages, and GitHub packages. This approach is developed to create reproducible workflows that are flexible and fast enough to use while in development stages, while able to build snapshots once a stable package collection is found. As with other functions in a reproducible workflow, this package emphasizes functions that return the same result whether it is the first or subsequent times running the function, with subsequent times being sufficiently fast that they can be run every time without undue waiting burden on the user or developer.
This is an &quot;all in one&quot; function that will run install.packages for CRAN
and GitHub https://github.com/ packages and will install specific versions
of each package if versions are specified either via an (in)equality (e.g.,
&quot;glue (&amp;gt;=1.6.2)&quot; or &quot;glue (==1.6.2)&quot; for an exact version) or with a
packageVersionFile. If require = TRUE, the default, the function will
then run require on all named packages that satisfy their version
requirements. If packages are already installed (packages supplied), and
their optional version numbers are satisfied, then the &quot;install&quot; component
will be skipped."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">Require</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/Require.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/PredictiveEcology/Require/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Require: Installing and Loading R Packages for Reproducible Workflows</h1>
      <small class="dont-index">Source: <a href="https://github.com/PredictiveEcology/Require/blob/master/R/Require-package.R" class="external-link"><code>R/Require-package.R</code></a>, <a href="https://github.com/PredictiveEcology/Require/blob/master/R/Require2.R" class="external-link"><code>R/Require2.R</code></a></small>
      <div class="d-none name"><code>Require.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>A single key function, 'Require' that makes rerun-tolerant versions of 'install.packages' and `require` for CRAN packages, packages no longer on CRAN (i.e., archived), specific versions of packages, and GitHub packages. This approach is developed to create reproducible workflows that are flexible and fast enough to use while in development stages, while able to build snapshots once a stable package collection is found. As with other functions in a reproducible workflow, this package emphasizes functions that return the same result whether it is the first or subsequent times running the function, with subsequent times being sufficiently fast that they can be run every time without undue waiting burden on the user or developer.</p>
<p>This is an "all in one" function that will run <code>install.packages</code> for CRAN
and GitHub <a href="https://github.com/" class="external-link">https://github.com/</a> packages and will install specific versions
of each package if versions are specified either via an (in)equality (e.g.,
<code>"glue (&gt;=1.6.2)"</code> or <code>"glue (==1.6.2)"</code> for an exact version) or with a
<code>packageVersionFile</code>. If <code>require = TRUE</code>, the default, the function will
then run <code>require</code> on all named packages that satisfy their version
requirements. If packages are already installed (<code>packages</code> supplied), and
their optional version numbers are satisfied, then the "install" component
will be skipped.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">Require</span><span class="op">(</span></span>
<span>  <span class="va">packages</span>,</span>
<span>  <span class="va">packageVersionFile</span>,</span>
<span>  <span class="va">libPaths</span>,</span>
<span>  install_githubArgs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  install.packagesArgs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>INSTALL_opts <span class="op">=</span> <span class="st">"--no-multiarch"</span><span class="op">)</span>,</span>
<span>  standAlone <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"Require.standAlone"</span>, <span class="cn">FALSE</span><span class="op">)</span>,</span>
<span>  install <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"Require.install"</span>, <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>  require <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"Require.require"</span>, <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>  repos <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"repos"</span><span class="op">)</span>,</span>
<span>  purge <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"Require.purge"</span>, <span class="cn">FALSE</span><span class="op">)</span>,</span>
<span>  verbose <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"Require.verbose"</span>, <span class="cn">FALSE</span><span class="op">)</span>,</span>
<span>  type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"pkgType"</span><span class="op">)</span>,</span>
<span>  upgrade <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  returnDetails <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">Install</span><span class="op">(</span></span>
<span>  <span class="va">packages</span>,</span>
<span>  <span class="va">packageVersionFile</span>,</span>
<span>  <span class="va">libPaths</span>,</span>
<span>  install_githubArgs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  install.packagesArgs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>INSTALL_opts <span class="op">=</span> <span class="st">"--no-multiarch"</span><span class="op">)</span>,</span>
<span>  standAlone <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"Require.standAlone"</span>, <span class="cn">FALSE</span><span class="op">)</span>,</span>
<span>  install <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  repos <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"repos"</span><span class="op">)</span>,</span>
<span>  purge <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"Require.purge"</span>, <span class="cn">FALSE</span><span class="op">)</span>,</span>
<span>  verbose <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"Require.verbose"</span>, <span class="cn">FALSE</span><span class="op">)</span>,</span>
<span>  type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"pkgType"</span><span class="op">)</span>,</span>
<span>  upgrade <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-packages">packages<a class="anchor" aria-label="anchor" href="#arg-packages"></a></dt>
<dd><p>Either a character vector of packages to install via
<code>install.packages</code>, then load (i.e., with <code>library</code>), or, for convenience,
a vector or list (using <code>c</code> or <code>list</code>) of unquoted package names to install
and/or load (as in <code>require</code>, but vectorized). Passing vectors of names may
not work in all cases, so user should confirm before relying on this behaviour
in operational code.
In the case of a GitHub package, it
will be assumed that the name of the repository is the name of the package.
If this is not the case, then pass a <em>named</em> character vector here, where the
names are the package names that could be different than the GitHub
repository name.</p></dd>


<dt id="arg-packageversionfile">packageVersionFile<a class="anchor" aria-label="anchor" href="#arg-packageversionfile"></a></dt>
<dd><p>Character string of a file name or logical. If
<code>TRUE</code>, then this function will load the default file,
<code>getOption("Require.packageVersionFile")</code>. If this argument is provided,
then this will override any packages passed to <code>packages</code>. By default,
<code>Require</code> will attempt to resolve dependency violations (i.e., if this
<code>packageVersionFile</code> specifies a version of a package that violates
the dependency specification of another package). If a user wishes to attempt
to install the <code>packageVersionFile</code> without assessing the dependencies,
set <code>dependencies = FALSE</code>.</p></dd>


<dt id="arg-libpaths">libPaths<a class="anchor" aria-label="anchor" href="#arg-libpaths"></a></dt>
<dd><p>The library path (or libraries) where all packages should be
installed, and looked for to load (i.e., call <code>library</code>). This can be used
to create isolated, stand alone package installations, if used with
<code>standAlone = TRUE</code>. Currently, the path supplied here will be prepended to
<code><a href="https://rdrr.io/r/base/libPaths.html" class="external-link">.libPaths()</a></code> (temporarily during this call) to <code>Require</code> if
<code>standAlone = FALSE</code> or will set (temporarily) <code><a href="https://rdrr.io/r/base/libPaths.html" class="external-link">.libPaths()</a></code> to
<code>c(libPaths, tail(libPaths(), 1)</code> to keep base packages.</p></dd>


<dt id="arg-install-githubargs">install_githubArgs<a class="anchor" aria-label="anchor" href="#arg-install-githubargs"></a></dt>
<dd><p>Deprecated. Values passed here are merged with
<code>install.packagesArgs</code>, with the <code>install.packagesArgs</code> taking precedence
if conflicting.</p></dd>


<dt id="arg-install-packagesargs">install.packagesArgs<a class="anchor" aria-label="anchor" href="#arg-install-packagesargs"></a></dt>
<dd><p>List of optional named arguments, passed to
<code>install.packages</code>. Default is only <code>--no-multi-arch</code>, meaning that only
the current architecture will be built and installed (e.g., 64 bit, not 32 bit,
in many cases).</p></dd>


<dt id="arg-standalone">standAlone<a class="anchor" aria-label="anchor" href="#arg-standalone"></a></dt>
<dd><p>Logical. If <code>TRUE</code>, all packages will be installed to and
loaded from the <code>libPaths</code> only. NOTE: If <code>TRUE</code>, THIS WILL CHANGE THE
USER'S <code><a href="https://rdrr.io/r/base/libPaths.html" class="external-link">.libPaths()</a></code>, similar to e.g., the <code>checkpoint</code> package. If
<code>FALSE</code>, then <code>libPath</code> will be prepended to <code><a href="https://rdrr.io/r/base/libPaths.html" class="external-link">.libPaths()</a></code> during the
<code>Require</code> call, resulting in shared packages, i.e., it will include the
user's default package folder(s). This can be create dramatically faster
installs if the user has a substantial number of the packages already in
their personal library. Default <code>FALSE</code> to minimize package installing.</p></dd>


<dt id="arg-install">install<a class="anchor" aria-label="anchor" href="#arg-install"></a></dt>
<dd><p>Logical or "force". If <code>FALSE</code>, this will not try to install
anything. If <code>"force"</code>, then it will force installation of requested
packages, mimicking a call to e.g., <code>install.packages</code>. If <code>TRUE</code>, the
default, then this function will try to install any missing packages or
dependencies.</p></dd>


<dt id="arg-require">require<a class="anchor" aria-label="anchor" href="#arg-require"></a></dt>
<dd><p>Logical or character string. If <code>TRUE</code>, the default, then the
function will attempt to call <code>require</code> on all requested <code>packages</code>,
possibly after they are installed. If a character string, then it will only
call <code>require</code> on those specific packages (i.e., it will install the ones
listed in <code>packages</code>, but load the packages listed in <code>require</code>)</p></dd>


<dt id="arg-repos">repos<a class="anchor" aria-label="anchor" href="#arg-repos"></a></dt>
<dd><p>The remote repository (e.g., a CRAN mirror), passed to either
<code>install.packages</code>, <code>install_github</code> or <code>installVersions</code>.</p></dd>


<dt id="arg-purge">purge<a class="anchor" aria-label="anchor" href="#arg-purge"></a></dt>
<dd><p>Logical. Should all caches be purged? Default is
<code>getOption("Require.purge", FALSE)</code>. There is a lot of internal caching of
results throughout the <code>Require</code> package. These help with speed and reduce
calls to internet sources. However, sometimes these caches must be purged.
The cached values are renewed when found to be too old, with the age limit.
This maximum age can be set in seconds with the environment variable
<code>R_AVAILABLE_PACKAGES_CACHE_CONTROL_MAX_AGE</code>, or if unset, defaults to 3600
(one hour – see <code><a href="https://rdrr.io/r/utils/available.packages.html" class="external-link">utils::available.packages</a></code>).</p>
<p>Internally, there are calls to <code>available.packages</code>.</p></dd>


<dt id="arg-verbose">verbose<a class="anchor" aria-label="anchor" href="#arg-verbose"></a></dt>
<dd><p>Numeric or logical indicating how verbose should the function
be. If -1 or -2, then as little verbosity as possible. If 0 or FALSE,
then minimal outputs; if <code>1</code> or TRUE, more outputs; <code>2</code> even more. NOTE: in
<code>Require</code> function, when <code>verbose &gt;= 2</code>, also returns details as if
<code>returnDetails = TRUE</code> (for backwards compatibility).</p></dd>


<dt id="arg-type">type<a class="anchor" aria-label="anchor" href="#arg-type"></a></dt>
<dd><p>See <code><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">utils::install.packages</a></code></p></dd>


<dt id="arg-upgrade">upgrade<a class="anchor" aria-label="anchor" href="#arg-upgrade"></a></dt>
<dd><p>When <code>FALSE</code>, the default, will only upgrade a package when the
version on in the local library is not adequate for the version requirements
of the <code>packages</code>. Note: for convenience, <code>update</code>
can be used for this argument.</p></dd>


<dt id="arg-returndetails">returnDetails<a class="anchor" aria-label="anchor" href="#arg-returndetails"></a></dt>
<dd><p>Logical. If <code>TRUE</code> the return object will have an
attribute: <code>attr(.., "Require")</code> which has lots of information about the
processes of the installs.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Passed to <code>install.packages</code>. Good candidates are e.g., <code>type</code> or
<code>dependencies</code>. This can be used with <code>install_githubArgs</code> or
<code>install.packageArgs</code> which give individual options for those 2 internal
function calls.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p><code>Require</code> is intended to replace <code><a href="https://rdrr.io/r/base/library.html" class="external-link">base::require</a></code>, thus it returns a
logical, named vector indicating whether the named packages have been loaded.
Because <code>Require</code> also has the ability to install packages, a return value of
<code>FALSE</code> does not mean that it did not install correctly; rather, it means it
did not attach with <code>require</code>, which could be because it did not install
correctly, or also because e.g., <code>require = FALSE</code>.</p>
<p><code>standAlone</code> will either put the <code>Require</code>d packages and their dependencies
<em>all</em> within the <code>libPaths</code> (if <code>TRUE</code>) or if <code>FALSE</code> will only install
packages and their dependencies that are otherwise not installed in
<code>.libPaths()[1]</code>, i.e., the current active R package directory. Any packages
or dependencies that are not yet installed will be installed in <code>libPaths</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p><code>Install</code> is the same as <code>Require(..., require = FALSE)</code>, for convenience.</p>
    </div>
    <div class="section level2">
    <h2 id="note">Note<a class="anchor" aria-label="anchor" href="#note"></a></h2>
    <p>For advanced use and diagnosis, the user can set <code>verbose = TRUE</code> or
<code>1</code> or <code>2</code> (or via <code>options("Require.verbose")</code>). This will attach an
attribute <code>attr(obj, "Require")</code> to the output of this function.</p>
    </div>
    <div class="section level2">
    <h2 id="github-package">GitHub Package<a class="anchor" aria-label="anchor" href="#github-package"></a></h2>
    <p>Follows <code>remotes::install_github</code> standard. As with
<code>remotes::install_github</code>, it is not possible to specify a past version of
a GitHub package unless that version is a tag or the user passes the SHA
that had that package version. Similarly, if a developer does a local
install e.g., via <code>pkgload::install</code>, of an active project, this package
will not be able know of the GitHub state, and thus <code>pkgSnapshot</code> will not
be able to recover this state as there is no SHA associated with a local
installation. Use <code>Require</code> (or <code>remotes::install_github</code>) to create a
record of the GitHub state.</p>
    </div>
    <div class="section level2">
    <h2 id="package-snapshots">Package Snapshots<a class="anchor" aria-label="anchor" href="#package-snapshots"></a></h2>
    <p>To build a snapshot of the desired packages and
their versions, first run <code>Require</code> with all packages, then <code>pkgSnapshot</code>.
If a <code>libPaths</code> is used, it must be used in both functions.</p>
    </div>
    <div class="section level2">
    <h2 id="mutual-dependencies">Mutual Dependencies<a class="anchor" aria-label="anchor" href="#mutual-dependencies"></a></h2>
    <p>This function works best if all required
packages are called within one <code>Require</code> call, as all dependencies can be
identified together, and all package versions will be addressed (if there
are no conflicts), allowing a call to <code><a href="pkgSnapshot.html">pkgSnapshot()</a></code> to take a snapshot or
"record" of the current collection of packages and versions.</p>
    </div>
    <div class="section level2">
    <h2 id="local-cache-of-packages">Local Cache of Packages<a class="anchor" aria-label="anchor" href="#local-cache-of-packages"></a></h2>
    <p>When installing new packages, <code>Require</code>
will put all source and binary files in an R-version specific subfolder of
<code>getOption("Require.cachePkgDir")</code> whose default is <code>RPackageCache()</code>,
meaning <em>cache packages locally in a project-independent location</em>, and
will reuse them if needed. To turn off this feature, set
<code>options("Require.cachePkgDir" = FALSE)</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Useful links:</p><ul><li><p><a href="https://Require.predictiveecology.org">https://Require.predictiveecology.org</a></p></li>
<li><p><a href="https://github.com/PredictiveEcology/Require" class="external-link">https://github.com/PredictiveEcology/Require</a></p></li>
<li><p>Report bugs at <a href="https://github.com/PredictiveEcology/Require/issues" class="external-link">https://github.com/PredictiveEcology/Require/issues</a></p></li>
</ul></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p><strong>Maintainer</strong>: Eliot J B McIntire <a href="mailto:eliot.mcintire@canada.ca">eliot.mcintire@canada.ca</a> (<a href="https://orcid.org/0000-0002-6914-8316" class="external-link">ORCID</a>)</p>
<p>Other contributors:</p><ul><li><p>Alex M Chubaty <a href="mailto:achubaty@for-cast.ca">achubaty@for-cast.ca</a> (<a href="https://orcid.org/0000-0001-7146-8135" class="external-link">ORCID</a>) [contributor]</p></li>
<li><p>Her Majesty the Queen in Right of Canada, as represented by the Minister of Natural Resources Canada [copyright holder]</p></li>
</ul></div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="va">opts</span> <span class="op">&lt;-</span> <span class="fu">Require</span><span class="fu">:::</span><span class="fu">.setupExample</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://Require.predictiveecology.org">Require</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="getCRANrepos.html">getCRANrepos</a></span><span class="op">(</span>ind <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">Require</span><span class="op">(</span><span class="st">"utils"</span><span class="op">)</span> <span class="co"># analogous to require(stats), but it checks for</span></span></span>
<span class="r-in"><span><span class="co">#   pkg dependencies, and installs them, if missing</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># unquoted version</span></span></span>
<span class="r-in"><span><span class="fu">Require</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">tools</span>, <span class="va">utils</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="fu">Require</span><span class="fu">:::</span><span class="fu">.runLongExamples</span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="co"># Install in a new local library (libPaths)</span></span></span>
<span class="r-in"><span>  <span class="va">tempPkgFolder</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"Require/Packages"</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="co"># use standAlone, means it will put it in libPaths, even if it already exists</span></span></span>
<span class="r-in"><span>  <span class="co">#   in another local library (e.g., personal library)</span></span></span>
<span class="r-in"><span>  <span class="fu">Install</span><span class="op">(</span><span class="st">"crayon"</span>, libPaths <span class="op">=</span> <span class="va">tempPkgFolder</span>, standAlone <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co"># Mutual dependencies, only installs once -- e.g., cli</span></span></span>
<span class="r-in"><span>  <span class="va">tempPkgFolder</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"Require/Packages"</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="fu">Install</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"cli"</span>, <span class="st">"R6"</span><span class="op">)</span>, libPaths <span class="op">=</span> <span class="va">tempPkgFolder</span>, standAlone <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co"># Mutual dependencies, only installs once -- e.g., rlang</span></span></span>
<span class="r-in"><span>  <span class="va">tempPkgFolder</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"Require/Packages"</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="fu">Install</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"rlang"</span>, <span class="st">"ellipsis"</span><span class="op">)</span>, libPaths <span class="op">=</span> <span class="va">tempPkgFolder</span>, standAlone <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co">#####################################################################################</span></span></span>
<span class="r-in"><span>  <span class="co"># Isolated projects -- Use a project folder and pass to libPaths or set .libPaths() #</span></span></span>
<span class="r-in"><span>  <span class="co">#####################################################################################</span></span></span>
<span class="r-in"><span>  <span class="co"># GitHub packages</span></span></span>
<span class="r-in"><span>  <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/ns-load.html" class="external-link">requireNamespace</a></span><span class="op">(</span><span class="st">"gitcreds"</span>, quietly <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>    <span class="co">#if (is(try(gitcreds::gitcreds_get(), silent = TRUE), "gitcreds")) {</span></span></span>
<span class="r-in"><span>      <span class="va">ProjectPackageFolder</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"Require/ProjectA"</span><span class="op">)</span></span></span>
<span class="r-in"><span>      <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/ns-load.html" class="external-link">requireNamespace</a></span><span class="op">(</span><span class="st">"curl"</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>        <span class="fu">Require</span><span class="op">(</span><span class="st">"PredictiveEcology/fpCompare@development"</span>,</span></span>
<span class="r-in"><span>          libPaths <span class="op">=</span> <span class="va">ProjectPackageFolder</span>,</span></span>
<span class="r-in"><span>        <span class="op">)</span></span></span>
<span class="r-in"><span>      <span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>      <span class="co"># No install because it is there already</span></span></span>
<span class="r-in"><span>      <span class="fu">Install</span><span class="op">(</span><span class="st">"PredictiveEcology/fpCompare@development"</span>,</span></span>
<span class="r-in"><span>        libPaths <span class="op">=</span> <span class="va">ProjectPackageFolder</span>,</span></span>
<span class="r-in"><span>      <span class="op">)</span> <span class="co"># the latest version on GitHub</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>      <span class="co">############################################################################</span></span></span>
<span class="r-in"><span>      <span class="co"># Mixing and matching GitHub, CRAN, with and without version numbering</span></span></span>
<span class="r-in"><span>      <span class="co">############################################################################</span></span></span>
<span class="r-in"><span>      <span class="va">pkgs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>        <span class="st">"remotes (&lt;=2.4.1)"</span>, <span class="co"># old version</span></span></span>
<span class="r-in"><span>        <span class="st">"digest (&gt;= 0.6.28)"</span>, <span class="co"># recent version</span></span></span>
<span class="r-in"><span>        <span class="st">"PredictiveEcology/fpCompare@a0260b8476b06628bba0ae73af3430cce9620ca0"</span> <span class="co"># exact version</span></span></span>
<span class="r-in"><span>      <span class="op">)</span></span></span>
<span class="r-in"><span>      <span class="fu">Require</span><span class="fu">::</span><span class="fu">Require</span><span class="op">(</span><span class="va">pkgs</span>, libPaths <span class="op">=</span> <span class="va">ProjectPackageFolder</span><span class="op">)</span></span></span>
<span class="r-in"><span>    <span class="co">#}</span></span></span>
<span class="r-in"><span>  <span class="op">}</span></span></span>
<span class="r-in"><span>  <span class="fu">Require</span><span class="fu">:::</span><span class="fu">.cleanup</span><span class="op">(</span><span class="va">opts</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Eliot J B McIntire.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

