<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>download.files or install.packages in a separate process — sysInstallAndDownload • Require</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="download.files or install.packages in a separate process — sysInstallAndDownload"><meta name="description" content='This uses sys package so that messaging can be controlled. This also provides
the option to parallelize by spawning multiple background process to allow
parallel e.g., downloads. Noting that if libcurl is installed (and detected
using capabilities("libcurl")), then no explicit parallelism will be allowed,
instead method = "libcurl" will be passed enabling parallel downloads.'><meta property="og:description" content='This uses sys package so that messaging can be controlled. This also provides
the option to parallelize by spawning multiple background process to allow
parallel e.g., downloads. Noting that if libcurl is installed (and detected
using capabilities("libcurl")), then no explicit parallelism will be allowed,
instead method = "libcurl" will be passed enabling parallel downloads.'></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">Require</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/Require.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/PredictiveEcology/Require/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>download.files or install.packages in a separate process</h1>
      <small class="dont-index">Source: <a href="https://github.com/PredictiveEcology/Require/blob/master/R/Require2.R" class="external-link"><code>R/Require2.R</code></a></small>
      <div class="d-none name"><code>sysInstallAndDownload.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This uses <code>sys</code> package so that messaging can be controlled. This also provides
the option to parallelize by spawning multiple <code>background</code> process to allow
parallel e.g., downloads. Noting that if <code>libcurl</code> is installed (and detected
using <code>capabilities("libcurl")</code>), then no explicit parallelism will be allowed,
instead <code>method = "libcurl"</code> will be passed enabling parallel downloads.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">sysInstallAndDownload</span><span class="op">(</span></span>
<span>  <span class="va">args</span>,</span>
<span>  splitOn <span class="op">=</span> <span class="st">"pkgs"</span>,</span>
<span>  doLine <span class="op">=</span> <span class="st">"outfiles &lt;- do.call(download.packages, args)"</span>,</span>
<span>  returnOutfile <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  doLineVectorized <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  <span class="va">tmpdir</span>,</span>
<span>  <span class="va">libPaths</span>,</span>
<span>  <span class="va">verbose</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-args">args<a class="anchor" aria-label="anchor" href="#arg-args"></a></dt>
<dd><p>A list with all arguments for a do.call to either <code>download.file, </code>install.packages<code>or a custom other function e.g.,</code>downloadAndBuildToLocalFile`.</p></dd>


<dt id="arg-spliton">splitOn<a class="anchor" aria-label="anchor" href="#arg-spliton"></a></dt>
<dd><p>A character vector of the names in <code>args</code> to parallelize over.
Defaults to <code>pkgs</code>. All other named elements in <code>args</code> will be assumed to
be length 1 and used for every parallel process.</p></dd>


<dt id="arg-doline">doLine<a class="anchor" aria-label="anchor" href="#arg-doline"></a></dt>
<dd><p>A character string with the <code>"outfiles &lt;- do.call(..., args)"</code> line.</p></dd>


<dt id="arg-returnoutfile">returnOutfile<a class="anchor" aria-label="anchor" href="#arg-returnoutfile"></a></dt>
<dd><p>A logical. If <code>TRUE</code>, then the names of the <code>outfiles</code> will
be returned.</p></dd>


<dt id="arg-dolinevectorized">doLineVectorized<a class="anchor" aria-label="anchor" href="#arg-dolinevectorized"></a></dt>
<dd><p>A logical. If <code>TRUE</code>, and parallism is being used, this
indicates that the <code>doLine</code> is a function that allows for multiple elements
in <code>args[[splitOn[[1]]]</code>. If <code>FALSE</code>, the function will make multiple
sequential calls within each parallel process to the <code>doLine</code> call.</p></dd>


<dt id="arg-tmpdir">tmpdir<a class="anchor" aria-label="anchor" href="#arg-tmpdir"></a></dt>
<dd><p>A single path where all downloads will be put</p></dd>


<dt id="arg-libpaths">libPaths<a class="anchor" aria-label="anchor" href="#arg-libpaths"></a></dt>
<dd><p>The library path (or libraries) where all packages should be
installed, and looked for to load (i.e., call <code>library</code>). This can be used
to create isolated, stand alone package installations, if used with
<code>standAlone = TRUE</code>. Currently, the path supplied here will be prepended to
<code><a href="https://rdrr.io/r/base/libPaths.html" class="external-link">.libPaths()</a></code> (temporarily during this call) to <code>Require</code> if
<code>standAlone = FALSE</code> or will set (temporarily) <code><a href="https://rdrr.io/r/base/libPaths.html" class="external-link">.libPaths()</a></code> to
<code>c(libPaths, tail(libPaths(), 1)</code> to keep base packages.</p></dd>


<dt id="arg-verbose">verbose<a class="anchor" aria-label="anchor" href="#arg-verbose"></a></dt>
<dd><p>Numeric or logical indicating how verbose should the function
be. If -1 or -2, then as little verbosity as possible. If 0 or FALSE,
then minimal outputs; if <code>1</code> or TRUE, more outputs; <code>2</code> even more. NOTE: in
<code>Require</code> function, when <code>verbose &gt;= 2</code>, also returns details as if
<code>returnDetails = TRUE</code> (for backwards compatibility).</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Mostly for side effects, namely installed packages or downloaded packages or
files. However, in the case of <code>returnOutfile = TRUE</code>, then a list of
filenames will be returned with any outputs from the <code>doLine</code>.</p>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Eliot J B McIntire.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer></div>





  </body></html>

