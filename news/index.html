<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Changelog • Require</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Changelog"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">Require</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/Require.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/PredictiveEcology/Require/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-news">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Changelog</h1>
      <small>Source: <a href="https://github.com/PredictiveEcology/Require/blob/master/NEWS.md" class="external-link"><code>NEWS.md</code></a></small>
    </div>

    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.1" id="version-101">version 1.0.1<a class="anchor" aria-label="anchor" href="#version-101"></a></h2>
<div class="section level3">
<h3 id="cran-requested-fixes-1-0-1">CRAN requested fixes<a class="anchor" aria-label="anchor" href="#cran-requested-fixes-1-0-1"></a></h3>
<ul><li>Require was failing on secondary check systems (Fedora and one Mac system). This update fixes those.</li>
</ul></div>
<div class="section level3">
<h3 id="enhancements-1-0-1">enhancements<a class="anchor" aria-label="anchor" href="#enhancements-1-0-1"></a></h3>
<ul><li>
<code>offlineMode</code>, gained improved functionality; though it is still experimental. It can be set using <code>options(Require.offlineMode = TRUE)</code>, but it will be automatically set if internet is not available, has now been widely tested. If packages are available in the local caches, and all elements of package versioning (e.g., <code><a href="https://rdrr.io/r/utils/available.packages.html" class="external-link">available.packages()</a></code> and github packages) have been previously run, then installations should occur as if the internet were available.</li>
</ul></div>
<div class="section level3">
<h3 id="other-1-0-1">Other<a class="anchor" aria-label="anchor" href="#other-1-0-1"></a></h3>
<ul><li>package testing on Linux Fedora and one MacOS machine on CRAN extra machines were addressed.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.0" id="version-100">version 1.0.0<a class="anchor" aria-label="anchor" href="#version-100"></a></h2><p class="text-muted">CRAN release: 2024-07-27</p>
<div class="section level3">
<h3 id="major-changes-1-0-0">major changes<a class="anchor" aria-label="anchor" href="#major-changes-1-0-0"></a></h3>
<ul><li>Installation, package downloading, and package building from source now occur in an external process using <code>sys</code> package. This allows for more control over messaging during installations, and it also allows of installation of many packages that are already loaded (with a message that the session will need restarting). This can be turned off with This is turned on with <code>option(Require.installPackagesSys = FALSE)</code>.</li>
<li>All internals for <code>pkgDep</code> have been changed. The new algorithms are faster and more reliable, with far fewer lines of code.</li>
<li>All testing has been converted from using <code>testit</code> to using <code>testthat</code>. This change adds many dependencies to <code>Suggests</code>, but the benefits, e.g., using <code>withr</code> to control loading and unloading of options, packages etc., outweigh the drawbacks.</li>
</ul></div>
<div class="section level3">
<h3 id="enhancements-1-0-0">enhancements<a class="anchor" aria-label="anchor" href="#enhancements-1-0-0"></a></h3>
<ul><li>
<code>packages</code> argument for <code>Require</code> and <code>Install</code> can now be unquoted names length == 1 or if length &gt; 1 using <code><a href="https://rdrr.io/r/base/c.html" class="external-link">c()</a></code> or <code><a href="https://rdrr.io/r/base/list.html" class="external-link">list()</a></code>, in addition to a character string, e.g., <code>Install(ggplot2)</code>;</li>
<li>Now, if a <code>GitHub.com</code> package has a field <code>Additional_repositories</code> in the DESCRIPTION file, <code>Require</code> will search there for packages that it does not find in the <code>repos</code> argument. This does not affect <code>CRAN</code> packages, as this information is not contained within the <code><a href="https://rdrr.io/r/utils/available.packages.html" class="external-link">available.packages()</a></code> data base, which is what is used to identify dependencies, rather than reading each <code>DESCRIPTION</code> file individually;</li>
<li>
<code>verbose</code> now propagates better through all internal functions, so e.g., <code>verbose = -2</code> will make installing very silent;</li>
<li>Better automatic cleaning of Cached packages that are corrupt;</li>
<li>experimental use of <code>pak</code> as the backend installer of packages instead of <code>install.packages</code>. A user can attempt to use this backend with <code>options(Require.usePak = TRUE)</code>. There are a number of cases (specifically when needing exact versions) that do not work; but for “normal” package installations it is widely tested. <code>pak</code> backend tends to be similar speed for first installations, but much slower for subsequent calls to <code>Install</code>/<code>Require</code>;</li>
<li>Better recovery from installation failures e.g., if the local cached copy is corrupt, it will be automatically cleaned;</li>
<li>
<code>Require.Rmd</code> vignette for “Getting Started” is new;</li>
<li>many speed enhancements in cases where e.g., a download is not necessary;</li>
<li>when downloads from <code>GitHub.com</code> are done, <code>Require</code> now uses <code>gitcreds</code> to get <code>git</code> credentials and <code>httr</code> to download the files with the token;</li>
</ul></div>
<div class="section level3">
<h3 id="function-name-changes-1-0-0">Function name changes<a class="anchor" aria-label="anchor" href="#function-name-changes-1-0-0"></a></h3>
<ul><li>all functions related to <code>cache</code> now start with <code>cache</code>, e.g., <code>cacheClearPackages</code> replaces <code>clearRequirePackageCache</code>. Previous names are kept for backwards compatibility.</li>
</ul></div>
<div class="section level3">
<h3 id="bugfixes-1-0-0">bugfixes<a class="anchor" aria-label="anchor" href="#bugfixes-1-0-0"></a></h3>
<ul><li>If a GitHub packages was attempted to be installed, but failed because the package was already loaded in the session, <code>Require</code> would incorrectly think it had successfully installed (<a href="https://github.com/PredictiveEcology/Require/issues/87" class="external-link">#87</a>);</li>
<li>Warning occurred if a package was no longer on CRAN and user had supplied multiple <code>repos</code> or <code>getOption('repos')</code>. The result was unaffected by the warning, but warning is now removed;</li>
<li>allow user-specified path in <code><a href="../reference/pkgSnapshot.html">pkgSnapshot()</a></code> (<a href="https://github.com/PredictiveEcology/Require/issues/93" class="external-link">#93</a>);</li>
<li>a number of new cases have been added to <code>tests</code> that previously would have hit errors;</li>
<li>many other small bugs fixed;</li>
<li>Some issues specific to MacOS have been fixed.</li>
<li>fixes or implemented other issues <a href="https://github.com/PredictiveEcology/Require/issues/91" class="external-link">#91</a>, <a href="https://github.com/PredictiveEcology/Require/issues/96" class="external-link">#96</a>, <a href="https://github.com/PredictiveEcology/Require/issues/97" class="external-link">#97</a>, <a href="https://github.com/PredictiveEcology/Require/issues/102" class="external-link">#102</a>, <a href="https://github.com/PredictiveEcology/Require/issues/105" class="external-link">#105</a></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.3.1" id="version-031">version 0.3.1<a class="anchor" aria-label="anchor" href="#version-031"></a></h2><p class="text-muted">CRAN release: 2023-05-22</p>
<div class="section level3">
<h3 id="enhancements-0-3-1">enhancements<a class="anchor" aria-label="anchor" href="#enhancements-0-3-1"></a></h3>
<ul><li>minor modifications for when internet is not available</li>
<li>deal with more edge cases for package snapshots that are not internally consistent, i.e., violate package versions, or skip missing branches on GitHub, if not needed (<a href="https://github.com/PredictiveEcology/Require/issues/81" class="external-link">#81</a>).</li>
</ul></div>
<div class="section level3">
<h3 id="bugfixes-0-3-1">bugfixes<a class="anchor" aria-label="anchor" href="#bugfixes-0-3-1"></a></h3>
<ul><li>updates to tests that have begun to fail</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.3.0" id="version-030">version 0.3.0<a class="anchor" aria-label="anchor" href="#version-030"></a></h2><p class="text-muted">CRAN release: 2023-03-14</p>
<div class="section level3">
<h3 id="enhancements-0-3-0">enhancements<a class="anchor" aria-label="anchor" href="#enhancements-0-3-0"></a></h3>
<ul><li>Moved from MRAN archives for binaries to <a href="https://packagemanager.posit.co/" class="external-link uri">https://packagemanager.posit.co/</a>
</li>
<li>because of the move from MRAN to posit package manager, attempts are made to use archived binary packages for Linux also.</li>
<li>improved messaging in several places</li>
<li>improved error catching in several places</li>
<li>a number of cases that were annoying for users were identified and addressed.</li>
<li>
<code>setupOff</code> and <code>setLibPaths</code> enhanced to be fully functioning in a wide diversity of cases.</li>
<li>When setting <code>install = "force"</code> in <code>Require</code>, now only the user-specified packages are forced to be installed; the rest are installed if required, mimicking <code>install.packages</code>
</li>
<li>small efficiency gains in many places</li>
<li>
<code>(HEAD)</code> is now more robust as a way to keep a package up to date.</li>
</ul></div>
<div class="section level3">
<h3 id="advanced-changes-0-3-0">advanced changes<a class="anchor" aria-label="anchor" href="#advanced-changes-0-3-0"></a></h3>
<ul><li>several functions now exported, <code>.downloadFileMasterMainAuth</code>, <code>messageVerbose</code>, <code>messageDF</code> as they were deemed useful enough for other packages.</li>
</ul></div>
<div class="section level3">
<h3 id="bugfixes-0-3-0">bugfixes<a class="anchor" aria-label="anchor" href="#bugfixes-0-3-0"></a></h3>
<ul><li>slow assessment of package dependencies on CRAN packages because of stale <code><a href="../reference/availableVersions.html">available.packagesCached()</a></code> object. Now, catches this condition and refreshes <code><a href="https://rdrr.io/r/utils/available.packages.html" class="external-link">available.packages()</a></code>
</li>
<li>corrected support for multiple repos that each offer the same packages. Now works like <code>install.packages</code>, i.e., first one first.</li>
<li>base packages can now be installed as previous issues about installing them were dealt with.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.6" id="version-026">version 0.2.6<a class="anchor" aria-label="anchor" href="#version-026"></a></h2><p class="text-muted">CRAN release: 2023-01-05</p>
<div class="section level3">
<h3 id="enhancements-0-2-6">enhancements<a class="anchor" aria-label="anchor" href="#enhancements-0-2-6"></a></h3>
<ul><li>attempts to deal with more cases of failed installations</li>
<li>
<code>Install</code> did not have an <code>install</code> argument; this has now been introduced, allowing the (most likely) use case of <code>Install(pkg, install = "force")</code>
</li>
<li>examples now use <code>Install</code> more often than <code>Require(..., require = FALSE)</code> for simplicity.</li>
</ul></div>
<div class="section level3">
<h3 id="improved-messaging-0-2-6">improved messaging<a class="anchor" aria-label="anchor" href="#improved-messaging-0-2-6"></a></h3>
<ul><li>If non-interactive and no CRAN mirror is set, user gets more informative error.</li>
</ul></div>
<div class="section level3">
<h3 id="bugfixes-0-2-6">bugfixes<a class="anchor" aria-label="anchor" href="#bugfixes-0-2-6"></a></h3>
<ul><li>Cases of multiple user-specified <code><a href="https://rdrr.io/r/base/libPaths.html" class="external-link">.libPaths()</a></code> were treated incorrectly; they are now all respected.</li>
<li>when git repo was not installed because it was identical to the SHA already installed, it would not be loaded, thinking it failed to install; fixed</li>
<li>can now deal with case when <code>repos</code> has multiple, non-binary CRAN-like repositories, when there is also at least one binary repository supplied e.g., the rstudio package manager, i.e., there are at least 3 repositories supplied, 1 of which is binary.</li>
<li>other minor</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.5" id="version-025">version 0.2.5<a class="anchor" aria-label="anchor" href="#version-025"></a></h2><p class="text-muted">CRAN release: 2022-11-24</p>
<div class="section level3">
<h3 id="enhancements-0-2-5">enhancements<a class="anchor" aria-label="anchor" href="#enhancements-0-2-5"></a></h3>
<ul><li>several modifications to enable CRAN-policy violations all addressed, notably keeping all temporary and (package and personal) cache directories clean after examples and tests</li>
<li>This is a major overhaul of the inner workings of <code>Require</code>. It now downloads and builds <code>Archive</code> and <code>GitHub</code> packages prior to installation, then installs all packages (<code>CRAN</code>, <code>Archive</code>, <code>GitHub</code>, <code>MRAN</code> on Windows) with one <code>install.packages</code> call (Linux-alikes) or up to two <code>install.packages</code> calls (binary and source), allowing efficient parallel installs. This results in very fast installs for all combinations of packages. new <code>options("Require.offlineMode")</code> can be set to <code>FALSE</code> to stop <code>Require</code> and <code>pkgDep</code> from checking the internet. This will fail, unless the cached packages are available locally (i.e., it was run once with all packages installed previously). If they are, then they will be installed without needing the internet. This option will also be set automatically on the first attempt to get a file from the internet, which fails, triggering a test of the internet. If that fails, then the option will be set to <code>FALSE</code> until next call to <code>Require</code> or <code>pkgDep</code> when it will be reset. This is experimental still.</li>
<li>many more edge cases found and dealt with</li>
<li>experimental use of <code>(HEAD)</code> to keep a package “up to date” with the HEAD of a GitHub branch. The behaviour still uses version numbering, so will not update based on SHA, but if the HEAD is ahead of the locally installed package and the <code>(HEAD)</code> is specified, then it will update. Specifically, use this instead of a version number, e.g., <code>"PredictiveEcology/Require@development (HEAD)"</code>
</li>
<li>
<code>modifyList2</code> now follows <code>modifyList</code> by adding the <code>keep.null</code> argument.</li>
<li>
<code>setdiffNamed</code> will compare 2 named lists or vectors and keep on those elements that are in the first list (or vector), keeping in mind the name as well as the element.</li>
<li>package messaging is not sorted alphabetically during installation</li>
<li>all <code>message</code> calls now <code>messageVerbose</code>, so verbosity can be fully controlled with the argument <code>verbose</code> or <code>options("Require.verbose")</code>. See <code><a href="../reference/RequireOptions.html">?RequireOptions</a></code>.</li>
<li>tests clean up more completely after themselves</li>
<li>if <code>options(Require.cachePkgDir = FALSE)</code> (or environment variable <code>"R_REQUIRE_PKGCACHE"</code>), then no cache folder will be created; previously a nearly empty folder was created by default. See <code><a href="../reference/RequireOptions.html">?RequireOptions</a></code>
</li>
<li>Remove option <code>Require.persistentPkgEnv</code> as it was deemed superfluous.</li>
<li>numerous enhancements for speed</li>
<li>new function <code>Install</code>, which is <code>Require(..., require = FALSE)</code>
</li>
<li>
<code>(HEAD)</code> has now been tested for CRAN repositories and works as expected.</li>
<li>Updated README to show new functionality</li>
<li>will attempt to use local cached packages from <code>crancache</code> if the user sets <code>options(Require.useCranCache = TRUE)</code>. This is experimental and is still being tested.</li>
<li>A new function, <code>clearRequirePackageCache</code>, for clearing the package cache.</li>
<li>The cache has been developed to be able to be shared across Operating Systems, if there is a shared file system.</li>
<li>GitHub packages require the SHA to be assessed; now this is Cached to disk as well as RAM, so that it persists even if there is an R restart.</li>
<li>All non-package cache files (<code>available.packages</code>, <code>pkgDep</code>, <code>GitHubSHA</code>) will be refreshed (purged) every 1 hour.</li>
<li>Much improved messaging, including identifying <code>MRAN</code> package installs explicitly (instead of just “Archive”)</li>
</ul></div>
<div class="section level3">
<h3 id="bugfixes-0-2-5">bugfixes<a class="anchor" aria-label="anchor" href="#bugfixes-0-2-5"></a></h3>
<ul><li>
<code>pkgDep</code> was using local <code>DESCRIPTION</code> file to establish package dependencies for a package, if it was available. When the local package is ahead of CRAN (a developer’s case), then this is desirable. But, when the local installed version is behind CRAN (a common user’s case), then this is not desirable. <code>pkgDep</code> now uses CRAN’s version (using <code>available.packages</code>) as developers can handle this situation on their own.</li>
<li>several minor</li>
<li>bugfix for <code>defaultCacheDir</code>, which would default to <code>runneradmin</code> under some conditions and did not allow installing packages due to permissions.</li>
</ul></div>
<div class="section level3">
<h3 id="deprecated-0-2-5">deprecated<a class="anchor" aria-label="anchor" href="#deprecated-0-2-5"></a></h3>
<ul><li>
<code>setup</code> and <code>setupOff</code> are now deprecated; messaging is supplied for what to do if these were being used</li>
<li>several options are deprecated</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.6" id="version-016">version 0.1.6<a class="anchor" aria-label="anchor" href="#version-016"></a></h2>
<div class="section level3">
<h3 id="enhancements-0-1-6">enhancements<a class="anchor" aria-label="anchor" href="#enhancements-0-1-6"></a></h3>
<ul><li>
<code>pkgSnapshot</code> examples brought up to present usage &amp; simplified</li>
<li>
<code>pkgSnapshot</code> now uses a default filename that is an option <code>Require.packageVersionFile</code>.</li>
<li>
<code>Require</code> can now accept <code>packageVersionFile = TRUE</code>, meaning use the package version file that is set in the <code>Require.packageVersionFile</code> option.</li>
</ul></div>
<div class="section level3">
<h3 id="bugfix-0-1-6">bugfix<a class="anchor" aria-label="anchor" href="#bugfix-0-1-6"></a></h3>
<ul><li>minor bugfix only detected on submission to CRAN</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.5" id="version-015">version 0.1.5<a class="anchor" aria-label="anchor" href="#version-015"></a></h2>
<div class="section level3">
<h3 id="enhancements-0-1-5">enhancements<a class="anchor" aria-label="anchor" href="#enhancements-0-1-5"></a></h3>
<ul><li>package caching for packages that need sources installs (i.e., identified with <code><a href="../reference/sourcePkgs.html">sourcePkgs()</a></code>, which tend to occur when R packages require idiosyncratic system dependencies) cache the binary version and reuse that on the same system with subsequent re-installs.</li>
</ul></div>
<div class="section level3">
<h3 id="bugfix-0-1-5">bugfix<a class="anchor" aria-label="anchor" href="#bugfix-0-1-5"></a></h3>
<ul><li>
<code>pkgDep</code> was misidentifying the correct package dependencies. This would manifest when a user had a version of package “A” installed as well as all its dependencies, e.g., “B”. When the user updated “A” to a new version that required a new version of “B”, it would not correctly identify the new dependency requirement, and not update “B”, causing “A” update to fail. This is fixed.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.4" id="version-014">version 0.1.4<a class="anchor" aria-label="anchor" href="#version-014"></a></h2><p class="text-muted">CRAN release: 2022-10-07</p>
<ul><li>Make corrections for 2 failing architectures on CRAN</li>
<li>MUCH less verbose during automated testing</li>
</ul><div class="section level3">
<h3 id="enhancement-0-1-4">enhancement<a class="anchor" aria-label="anchor" href="#enhancement-0-1-4"></a></h3>
<ul><li>
<code>verbose</code> argument is now widespread, with -1, 0, 1, 2 all valid and correctly inherited values. See argument description in e.g., <code><a href="../reference/Require.html">?Require</a></code>
</li>
<li>improved warning handling</li>
</ul></div>
<div class="section level3">
<h3 id="bugfixes-0-1-4">bugfixes<a class="anchor" aria-label="anchor" href="#bugfixes-0-1-4"></a></h3>
<ul><li>more edge cases found and dealt with</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.2" id="version-012">version 0.1.2<a class="anchor" aria-label="anchor" href="#version-012"></a></h2><p class="text-muted">CRAN release: 2022-09-23</p>
<div class="section level3">
<h3 id="dependencies-0-1-2">dependencies<a class="anchor" aria-label="anchor" href="#dependencies-0-1-2"></a></h3>
<ul><li>drop support for R 3.6 (R &gt;= 4.0 are supported)</li>
</ul></div>
<div class="section level3">
<h3 id="enhancements-0-1-2">enhancements<a class="anchor" aria-label="anchor" href="#enhancements-0-1-2"></a></h3>
<ul><li><p>The <code>Require</code> argument, <code>require</code>, can now be a character string, indicating which packages should be attached via <code>require</code></p></li>
<li><p>Now can use <code>GITHUB_PAT</code> environment variable, if set, when it accesses GitHub.com repositories (files or entire repository)</p></li>
<li><p>Attempt to capture and correct cases where GitHub.com branches are incorrectly labelled <code>master</code> instead of <code>main</code> (or vice versa)</p></li>
<li><p>much quieter messaging by default (can increase with verbose = 1)</p></li>
<li><p><code>require</code> argument in <code>Require</code> can now be a character vector indicating which packages should be attached, not just installed. Note: by default, all packages that are passed to <code>packages</code> are attached if <code>require = TRUE</code></p></li>
<li>
<p>much faster installations:</p>
<ul><li>When source packages, they are grouped and installed together using the internal parallelism of install.packages (setting Ncpus option to 4)</li>
<li>when binary, passes vectors to install.packages so much faster.</li>
<li>all packages are installed in install-safe groups for speed</li>
</ul></li>
<li><p>can use pak package under the hood when options(“Require.usepak” = TRUE), though there are still many cases that pak cannot deal with. Users should try and determine if this option delivers as expected. pak installs tend to be slightly faster if they work correctly.</p></li>
<li><p>binary package caching is turned in by default in a user-specific standard directory, making repeat installations (on same system, or shared drive systems) much faster.</p></li>
<li><p>MRAN installs for Windows are now much more robust under many conditions.</p></li>
<li><p>archived packages (ie no longer on CRAN) will now be found and installed (latest available version)</p></li>
<li><p>more robust dependency identification even for archived or older packages or package versions (including their dependencies)</p></li>
<li><p>MRAN binaries will be used in MacOSX.</p></li>
<li><p>improved installation of older packages (e.g. when dependencies are removed from CRAN, or source versions can’t be easily compiled)</p></li>
<li><p>several other minor improvements in package dependency resolution and installation.</p></li>
</ul></div>
<div class="section level3">
<h3 id="bugfixes-0-1-2">bugfixes<a class="anchor" aria-label="anchor" href="#bugfixes-0-1-2"></a></h3>
<ul><li>fix issue with ‘dot directories’ in <code><a href="../reference/normPath.html">normPath()</a></code>.</li>
<li>identified possible bug with <code>install.packages</code> when <code>options(Ncpus = XX)</code> where XX is a number &gt; 1. Some packages are skipped. <code>Require</code> now captures this and attempts to install the ones that did not get correctly installed.</li>
<li>multiple fixes for certain edge cases.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.1" id="version-011">version 0.1.1<a class="anchor" aria-label="anchor" href="#version-011"></a></h2>
<div class="section level3">
<h3 id="enhancements-0-1-1">enhancements<a class="anchor" aria-label="anchor" href="#enhancements-0-1-1"></a></h3>
<ul><li>can now use <code>pak</code> if <code>options("Require.usepak" = TRUE)</code> and there are no version specifications (i.e., if a user specifies e.g., <code>Require("reproducible (&lt;= 1.2.9))</code>, then the non-<code>pak</code> approach will be used)</li>
</ul></div>
<div class="section level3">
<h3 id="bugfixes-0-1-1">bugfixes<a class="anchor" aria-label="anchor" href="#bugfixes-0-1-1"></a></h3>
<ul><li>fixed an error installing certain GitHub packages</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.0" id="version-010">version 0.1.0<a class="anchor" aria-label="anchor" href="#version-010"></a></h2>
<div class="section level3">
<h3 id="enhancements-0-1-0">enhancements<a class="anchor" aria-label="anchor" href="#enhancements-0-1-0"></a></h3>
<ul><li>install CRAN packages using vectorized <code>install.packages</code> –&gt; much faster</li>
<li>now uses internal <code>installGithubPackage</code> instead of <code>remotes::install_github</code>
</li>
<li>this previous means that all installations use <code>install.packages</code> directly</li>
<li>remove dependency on <code>remotes</code>
</li>
</ul></div>
<div class="section level3">
<h3 id="bugfixes-0-1-0">bugfixes<a class="anchor" aria-label="anchor" href="#bugfixes-0-1-0"></a></h3>
<ul><li>
<code>Require</code> would silently fail to install a GitHub package if there was a warning during the installation. These warnings are now correctly captured, without stopping the installation.</li>
<li>bugfix where a package being installed from GitHub directly had a <code>Remotes</code> field for a package that was in <code>Suggests</code> (in its DESCRIPTION file). It would install this <code>Remotes</code> package even though it was only in <code>Suggests</code>
</li>
<li>bugfix when user supplies a non-CRAN <code>repos</code> argument to <code>Require</code>. It was not correctly using. Thanks to <a href="https://github.com/CeresBarros" class="external-link">@CeresBarros</a> for identifying issue <a href="https://github.com/PredictiveEcology/Require/issues/30" class="external-link">#30</a></li>
<li>bugfix “All packages appear to have installed correctly” was misreporting under some cases.</li>
<li>
<code>repos</code> argument not correctly passed into <code>doInstalls</code> from <code>Require</code>. This meant that installs would not respect a user supplied repos, but would use the <code>options("repos")</code> instead.</li>
<li>
<code>extractPkgNames</code> now allows GitHub packages that have the repository omitted, i.e., they only have <code>@</code>. This is useful if there is a default expectation for a github repository</li>
<li>better handling of GitHub package install issues</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.13" id="version-0013">version 0.0.13<a class="anchor" aria-label="anchor" href="#version-0013"></a></h2><p class="text-muted">CRAN release: 2021-05-31</p>
<ul><li>fix CRAN policy violation – dealt with extraneous folder created during testing</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.12" id="version-0012">version 0.0.12<a class="anchor" aria-label="anchor" href="#version-0012"></a></h2><p class="text-muted">CRAN release: 2021-05-26</p>
<div class="section level3">
<h3 id="dependency-changes-0-0-12">Dependency changes<a class="anchor" aria-label="anchor" href="#dependency-changes-0-0-12"></a></h3>
<ul><li>with the release of R 4.1, we dropped support for R 3.5. R 3.6 (<code>oldrel</code>) and newer are supported.</li>
</ul></div>
<div class="section level3">
<h3 id="new-features-0-0-12">New features<a class="anchor" aria-label="anchor" href="#new-features-0-0-12"></a></h3>
<ul><li>
<code>setup</code>: new function for creating a new project. See <code>readme.md</code>
</li>
<li>
<code>setLibPath</code> and package caching (via <code>options("RPackageCache")</code>) now automatically create and use a subfolder of user-provided path with the R major &amp; minor version number (as with normal R behaviour) to allow multiple R versions to coexist on the same machine.</li>
<li>
<code>setLibPaths</code> gains a new argument, <code>updateRprofile</code>, which allows a user’s changes to <code><a href="https://rdrr.io/r/base/libPaths.html" class="external-link">.libPaths()</a></code> to persist through an R restart. Set to <code>getOption("Require.updateRprofile", FALSE)</code>, at start</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-0-0-12">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-0-12"></a></h3>
<ul><li>several edge cases with complex loading of many packages</li>
<li>was incorrectly (not) loading base packages, e.g., <code>parallel</code>
</li>
<li>small minor bugfixes</li>
<li>In cases where a DESCRIPTION file had both a package with a minimum version (e.g., in Imports) and a REMOTES: for that package (without a minimum version, but with a branch, say), <code>Require</code> would use the REMOTES: entry. But since that means there is no minimum package version, and <code>Require</code> does not automatically install a package that is not violating a minimum version number, it would not install anything. Now, it harmonizes the 2 entries for a given package, and uses both the minimum version number and the git branch as the potential source to find that version number.</li>
<li>allow either <code>master</code> or <code>main</code> branches to be installed from GitHub, without needing to specify (<a href="https://github.com/PredictiveEcology/Require/issues/26" class="external-link">#26</a>)</li>
<li>fix use of options in <code><a href="../reference/setup.html">setup()</a></code>
</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.10" id="version-0010">version 0.0.10<a class="anchor" aria-label="anchor" href="#version-0010"></a></h2><p class="text-muted">CRAN release: 2020-12-02</p>
<div class="section level3">
<h3 id="bug-fixes-0-0-10">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-0-10"></a></h3>
<ul><li>CRAN error on one flavour of Linux</li>
<li>erroneous <code>checkPath</code> error creating <code>Specified path xxxx doesn't exist</code> even though it does.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.9" id="version-009">version 0.0.9<a class="anchor" aria-label="anchor" href="#version-009"></a></h2><p class="text-muted">CRAN release: 2020-11-30</p>
<div class="section level3">
<h3 id="new-features-0-0-9">New features<a class="anchor" aria-label="anchor" href="#new-features-0-0-9"></a></h3>
<ul><li>
<code>modifyList2</code>, a generalization of <code><a href="https://rdrr.io/r/utils/modifyList.html" class="external-link">utils::modifyList</a></code> for &gt;2 lists. Also, can handle NULL lists.</li>
<li>slight improvements in speed for some internal functions</li>
<li>
<code>detachAll</code> now unloads reverse depends of the depends, if they are loaded</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-0-0-9">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-0-9"></a></h3>
<ul><li>deals with more cases of installing arbitrary packages from a <code>packageVersion.txt</code> file</li>
<li>Does not mistakenly create a new, empty directory of packages to accommodate 2 <code>LibPaths</code> from <code>packageVersion.txt</code> file, <em>if the second (or more) <code>LibPath</code></em> is full of base packages.</li>
<li>Handles better false positives (packages did not install properly when they did) and some false negatives (no error collected at end when there was an error in installing)</li>
<li>better suggestion of what to do in some edge cases of failed package installs</li>
<li>captures and deals with a bug in <code>install.packages</code> (<code>argument "av2" is missing, with no default</code>) on R-devel for Windows (on Sept 09, 2020). May be transient.</li>
<li>Was, by default, installing from <code>source</code> on Windows. Fixed.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.8" id="version-008">version 0.0.8<a class="anchor" aria-label="anchor" href="#version-008"></a></h2><p class="text-muted">CRAN release: 2020-09-10</p>
<div class="section level3">
<h3 id="new-features-0-0-8">New features<a class="anchor" aria-label="anchor" href="#new-features-0-0-8"></a></h3>
<ul><li>GitHub SHA is now stored during <code>pkgSnapshot</code>, meaning that a new system can be built with exact versions and SHAs of GitHub packages.</li>
<li>For GitHub packages, now uses both DESCRIPTION and NAMESPACE files to determine dependencies. GitHub packages are generally for packages in some state of development. This may include missing declarations in DESCRIPTION. NAMESPACE is what R uses to actually determine package dependencies upon installation.</li>
<li>Now keeps the binary/source package locally if <code>options("Require.cachePkgDir" = "someLocalDir")</code> is set to a local folder. Currently defaults to NULL, meaning no local cache.</li>
<li>
<code>Require</code> and <code>pkgSnapshot</code> can now understand and work with GitHub SHAs and thus packages installed from GitHub, e.g., <code>Require("PredictiveEcology/Require@development")</code> will install the development version. When using <code>pkgSnapshot</code>, the exact SHA will be used to restore that package at the exact version with <code>Require(packageVersionFile = "packageVersions.txt")</code>.</li>
<li>If a package is already loaded prior to changing running <code>setLibPaths</code>, it is possible to create a version conflict. <code><a href="https://rdrr.io/r/base/library.html" class="external-link">base::require</a></code> will error if the version in the <code><a href="https://rdrr.io/r/base/libPaths.html" class="external-link">.libPaths()</a></code> is older than the version whose namespace is already loaded. To accommodate this, there is a check for this error, and if the newer version (that is already loaded) does not violate the <code>Require('package (versionSpecification)')</code>, then it will install the newer version. If it does violate the version specification, it will error cleanly with a message describing the possible solutions.</li>
<li>Much better messaging and reporting</li>
<li>New function: <code>detachAll</code> that attempts to detach and unload packages and all their dependencies, in reverse topological order.</li>
<li>Speed improvements, especially with <code>pkgDep</code> and <code>pkgDepTopoSort</code>
</li>
<li>New function <code>pkgDepAlt</code> which is an alternative to <code>pkgDep</code>, yet easier to maintain and still experimental. It is not yet the workhorse inside <code>Require</code>, but it may become that.</li>
<li>Now correctly removes spaces and tab characters within a package version description – this was creating an error such as <code>Error: invalid version specification '    3.3-13'</code>
</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-0-0-8">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-0-8"></a></h3>
<ul><li>
<code>pkgDepTopoSort</code> now appears to be correct for all types of package descriptions currently allowed by <code>Require</code>, namely, packages with no version specification, packages with version specification (including older versions), and GitHub packages.</li>
<li>many minor edge cases</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.7" id="version-007">version 0.0.7<a class="anchor" aria-label="anchor" href="#version-007"></a></h2><p class="text-muted">CRAN release: 2020-08-18</p>
<div class="section level3">
<h3 id="new-features-0-0-7">New features<a class="anchor" aria-label="anchor" href="#new-features-0-0-7"></a></h3>
<ul><li>no longer sets CRAN repository to cloud.r-project.org even if non-interactive with no CRAN repository set. Now uses <code>chooseCRANmirror(ind = 1)</code>
</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-0-0-7">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-0-7"></a></h3>
<ul><li>fixes CRAN check issues on Fedora.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.6" id="version-006">version 0.0.6<a class="anchor" aria-label="anchor" href="#version-006"></a></h2><p class="text-muted">CRAN release: 2020-08-11</p>
<div class="section level3">
<h3 id="new-features-0-0-6">New features<a class="anchor" aria-label="anchor" href="#new-features-0-0-6"></a></h3>
<ul><li>none</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-0-0-6">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-0-6"></a></h3>
<ul><li>fixed CRAN check issues.</li>
<li>default repo now uses option <code>repos</code> instead of specifying CRAN repo.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.5" id="version-005">version 0.0.5<a class="anchor" aria-label="anchor" href="#version-005"></a></h2><p class="text-muted">CRAN release: 2020-07-17</p>
<div class="section level3">
<h3 id="new-features-0-0-5">New features<a class="anchor" aria-label="anchor" href="#new-features-0-0-5"></a></h3>
<ul><li>moved several functions that have to do with package loading and installing from <code>reproducible</code> to <code>Require</code>, including <code>pkgDep</code>, <code>pkgDepTopoSort</code>.</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-0-0-5">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-0-5"></a></h3>
<ul><li>recursive <code>pkgDep</code> did not correctly resolve multiple instances of the same package, each with different minimum version numbering. Now it reports minimum version required for all package dependencies.</li>
<li>minor changes in non-exported functions</li>
<li>handling of bugs in <code>base::available.packages</code> for old Mac machines and R versions</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.4" id="version-004">version 0.0.4<a class="anchor" aria-label="anchor" href="#version-004"></a></h2><p class="text-muted">CRAN release: 2020-06-05</p>
<div class="section level3">
<h3 id="bug-fixes-0-0-4">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-0-4"></a></h3>
<ul><li>remove <code>installed.packages</code> from test code, as per CRAN request</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.3" id="version-003">version 0.0.3<a class="anchor" aria-label="anchor" href="#version-003"></a></h2>
<ul><li>Change title to Title Case in DESCRIPTION</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.2" id="version-002">version 0.0.2<a class="anchor" aria-label="anchor" href="#version-002"></a></h2>
<ul><li>Change backticks to single quotes in DESCRIPTION</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.1" id="version-001">version 0.0.1<a class="anchor" aria-label="anchor" href="#version-001"></a></h2>
<div class="section level3">
<h3 id="new-features-0-0-1">New features<a class="anchor" aria-label="anchor" href="#new-features-0-0-1"></a></h3>
<ul><li>This is a rewrite of the function, <code>Require</code> (and helpers) which will be removed from package <code>reproducible</code>
</li>
<li>This function is intended to be a tool for package management used within a “reproducible” workflow</li>
<li>It differs from all other attempts at achieving this goal by having the trait that the first and subsequent times the function <code>Require</code> is run, the result will be the same</li>
</ul></div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Eliot J B McIntire.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer></div>





  </body></html>

